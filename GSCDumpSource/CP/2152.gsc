// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

lbravo_init( var_0 )
{
    initanims( var_0 );
    var_1 = [];
    var_1[0] = [ 0, 1 ];
    var_1[1] = [ 4, 5 ];
    var_1[2] = [ 2 ];
    var_1[3] = [ 3 ];
    scripts\cp\infilexfil\infilexfil::infil_add( "infil_lbravo", var_0, 6, 4, var_1, ::lbravo_spawn, ::lbravo_get_length, ::player_lbravo_infil_think );
}

lbravo_spawn( var_0, var_1, var_2 )
{
    var_3 = scripts\engine\utility::getstruct( var_1, "targetname" );
    var_4 = spawn( "script_origin", var_3.origin );
    var_4.angles = var_3.angles;
    var_4.scene_node = var_3;

    if ( isdefined( var_3.target ) )
        var_4.path = scripts\engine\utility::getstruct( "lbravoAlphaAdvancedPath", "targetname" );

    var_4 thread infilthink( var_0, var_2 );
    level.infil_struct = var_4;
    return var_4;
}

lbravo_get_length( var_0 )
{
    if ( isdefined( self.path ) )
    {
        var_1 = parsepathlength();
        var_1 = var_1 + getanimlength( level.scr_anim["slot_0"]["lbravo_infil_" + var_0 + "_loop_exit"] );
        var_1 = var_1 + getanimlength( level.scr_anim["slot_0"]["lbravo_infil_" + var_0 + "_exit"] );
        return var_1;
    }
    else
    {
        var_2 = getanimlength( level.scr_anim["slot_0"]["lbravo_infil_" + var_0] );
        var_2 = var_2 + getanimlength( level.scr_anim["slot_0"]["lbravo_infil_" + var_0 + "_exit"] );
        return var_2;
    }
}

player_lbravo_infil_think( var_0, var_1 )
{
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "disconnect" );
    self endon( "player_free_spot" );
    self endon( "joined_team" );
    scripts\cp\cp_outofbounds::enableoobimmunity( self );

    if ( isplayer( self ) )
        self setclienttriggeraudiozone( "lbravo_infil_intro", 1 );

    thread player_infil_end( var_0 );
    thread scripts\cp\cp_infilexfil::infil_player_rig( "slot_" + var_1, "viewhands_base_iw8" );
    self.player_rig.weapon_state_func = scripts\cp\cp_infilexfil::handleweaponstatenotetrackcp;
    self.player_rig linkto( var_0.linktoent, "origin_animate_jnt", ( 0, 0, 0 ), ( 0, 0, 0 ) );
    self predictstreampos( var_0.linktoent.origin );
    self lerpfovbypreset( "80_instant" );
    self setdemeanorviewmodel( "safe", "iw8_ges_demeanor_safe_heli" );
    thread scripts\cp\cp_infilexfil::infil_scene_fade_in( 0.0, 0.55, "fade_up" );
    thread player_van_disconnect();
    scripts\engine\utility::waittill_any_ents( level, "start_scene", var_0, "start_scene" );

    if ( isdefined( self.team ) && self.team != "spectator" )
    {
        self setsoundsubmix( "iw8_cp_intro_outro" );
        self setplayermusicstate( "cp_lbravo_infil" );
    }

    self.is_doing_infil = 1;
    self notify( "open_loadout_menu" );
    self notify( "fade_up" );
    self setcinematicmotionoverride( "disabled" );

    if ( isdefined( var_0.path ) )
        thread playerthinkpath( var_0, var_1 );
    else
        thread playerthinkanim( var_0, var_1 );

    self lerpfovbypreset( "default" );
}

playerthinkpath( var_0, var_1 )
{
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "disconnect" );
    self endon( "player_free_spot" );
    self endon( "joined_team" );

    if ( var_1 == 0 )
        self lerpviewangleclamp( 1, 0.25, 0.25, 10, 45, 45, 30 );
    else if ( var_1 == 1 )
        self lerpviewangleclamp( 1, 0.25, 0.25, 45, 10, 45, 30 );
    else
        self lerpviewangleclamp( 1, 0.25, 0.25, 45, 45, 45, 30 );

    rideloop( var_0 );
    self lerpviewangleclamp( 1, 0.25, 0.25, 0, 0, 0, 0 );
    self lerpfovbypreset( "default_2seconds" );
    self lerpfovscalefactor( 1, 2 );
    self stopanimscriptsceneevent();
    self setcinematicmotionoverride( "iw8_playermotion_mp" );
    self.player_rig unlink();
    self.is_doing_infil = undefined;
    self notify( "player_finished_infil" );
    scripts\cp\cp_outofbounds::disableoobimmunity( self );
    self setdemeanorviewmodel( "normal" );
    self stopviewmodelanim();
    scripts\cp\cp_infilexfil::takegunlesscp();
    self clearsoundsubmix( "iw8_cp_intro_outro" );
    var_0 notify( "prematch_over" );
    level notify( "prematch_over" );
}

rideloop( var_0 )
{
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "disconnect" );
    self endon( "player_free_spot" );
    self endon( "joined_team" );
    var_0.linktoent endon( "unload" );

    for (;;)
    {
        var_0.linktoent thread scripts\cp\cp_anim::anim_player_solo( self, self.player_rig, "lbravo_infil_" + var_0.subtype + "_loop", "origin_animate_jnt" );
        wait 10;
    }
}

playerthinkanim( var_0, var_1 )
{
    level endon( "game_ended" );
    self endon( "death" );
    self endon( "disconnect" );
    self endon( "player_free_spot" );
    self endon( "joined_team" );
    self lerpviewangleclamp( 1, 0.25, 0.25, 30, 30, 30, 30 );
    var_0.linktoent scripts\cp\cp_anim::anim_player_solo( self, self.player_rig, "lbravo_infil_" + var_0.subtype, "origin_animate_jnt" );
    self lerpviewangleclamp( 1, 0.25, 0.25, 0, 0, 0, 0 );
    self.player_rig unlink();
    self setdemeanorviewmodel( "normal" );
    self stopviewmodelanim();
    scripts\cp\cp_infilexfil::takegunlesscp();
    self clearsoundsubmix( "iw8_cp_intro_outro" );
    var_0 notify( "prematch_over" );
    level notify( "prematch_over" );
    thread scriptswitchweaponhack();
    thread clear_infil_ambient_zone();
    self visionsetnakedforplayer( "", 0.75 );
    self setdemeanorviewmodel( "normal" );
    self clearcinematicmotionoverride();
}

scriptswitchweaponhack()
{
    waitframe();
    self notify( "complete_late_infil_allows" );
}

clear_infil_ambient_zone()
{
    wait 1;
    self clearclienttriggeraudiozone( 2 );
}

player_infil_end( var_0 )
{
    self endon( "disconnect" );
    scripts\engine\utility::waittill_any_ents( level, "prematch_over", var_0, "prematch_over" );
    self notify( "remove_rig" );
    self clearclienttriggeraudiozone( 1.0 );
    scripts\mp\utility\player::setdof_default();
}

player_van_disconnect()
{
    level endon( "prematch_over" );
    scripts\engine\utility::waittill_either( "death", "disconnect" );

    if ( isdefined( self ) )
    {
        self visionsetnakedforplayer( "" );
        self clearclienttriggeraudiozone( 0.0 );
        self lerpfovbypreset( "default" );
        self setviewmodeldepthoffield( 0, 0, 18 );
        scripts\mp\utility\player::setdof_default();
    }
}

infilthink( var_0, var_1 )
{
    level endon( "game_ended" );

    foreach ( var_3 in getentarray( "infil_delete", "script_noteworthy" ) )
        var_3 delete();

    thread vehiclethink( var_0, self.scene_node, var_1 );
    thread actorthink( var_0, self.scene_node, var_1 );
    scripts\engine\utility::waittill_any_ents( level, "infil_started", self, "infil_started" );
    setdvar( "TLMMOPMSK", 1 );
    level notify( "start_scene" );
    self notify( "start_scene" );
    var_5 = lbravo_get_length( var_1 );
    wait( var_5 );
    scripts\engine\utility::waittill_any_ents( level, "prematch_over", self, "prematch_over" );
    setdvar( "TLMMOPMSK", 0 );

    while ( isdefined( self.linktoent ) || isdefined( self.actors ) )
        waitframe();

    self delete();
}

vehiclethink( var_0, var_1, var_2, var_3 )
{
    level endon( "game_ended" );
    self.linktoent = spawninfilvehicle( var_1, var_0, var_2 );

    if ( isdefined( self.path ) )
        thread vehiclethinkpath( var_0, var_1, var_2, var_3 );
    else
        thread vehiclethinkanim( var_0, var_1, var_2, var_3 );
}

vehiclethinkanim( var_0, var_1, var_2, var_3 )
{
    scripts\common\anim::anim_first_frame_solo( self.linktoent, "lbravo_infil_" + var_2 );
    scripts\engine\utility::waittill_any_ents( level, "infil_started", self, "infil_started" );
    thread scripts\common\anim::anim_single_solo( self.linktoent, "lbravo_infil_" + var_2 );
    var_4 = getanimlength( level.scr_anim[self.linktoent.animname]["lbravo_infil_" + var_2] );
    wait( var_4 );
    self.linktoent delete();
    self.linktoent = undefined;
}

spawninfilvehicle( var_0, var_1, var_2 )
{
    var_3 = var_0.origin;
    var_4 = var_0.angles;

    if ( isdefined( self.path ) )
    {
        var_3 = self.path.origin;
        var_4 = self.path.angles;
    }

    var_5 = spawnvehicle( "veh8_mil_air_lbravo_personnel_cp", var_2, "lbravo_infil_cp", var_3, var_4 );
    var_5 setvehicleteam( var_1 );
    var_5.animname = "lbravo";
    var_5 setcandamage( 0 );
    var_5 setscriptablepartstate( "engine", "on", 0 );
    var_5.infil = self;

    if ( isdefined( level._id_121FA ) )
        level thread [[ level._id_121FA ]]( var_5 );

    return var_5;
}

actorthink( var_0, var_1, var_2, var_3 )
{
    level endon( "game_ended" );
    self.actors = thread spawnactors( var_0, var_2, var_3 );
    self.actors[0].anim_playsound_func = ::commander_play_sound_func;
    self.linktoent scripts\common\anim::anim_first_frame( self.actors, "lbravo_infil_" + var_2, "origin_animate_jnt" );
    scripts\mp\utility\infilexfil::hideactors();
    scripts\engine\utility::waittill_any_ents( level, "infil_started", self, "infil_started" );
    scripts\mp\utility\infilexfil::showactors();

    if ( isdefined( self.path ) )
        actorthinkpath( var_0, var_1, var_2, var_3 );
    else
        actorthinkanim( var_0, var_1, var_2, var_3 );
}

actorthinkpath( var_0, var_1, var_2, var_3 )
{
    if ( isdefined( level.riskspawn_debugobjective ) )
        level thread [[ level.riskspawn_debugobjective ]]( self );
    else
        allow_ascender_use( self );
}

allow_ascender_use( var_0 )
{
    var_0 thread actorloopthink( var_0.actors[0] );
    var_0 thread actorloopthink( var_0.actors[1] );
}

actorloopthink( var_0 )
{
    actorloop( var_0 );
    self.linktoent scripts\common\anim::anim_single_solo( var_0, "lbravo_infil_" + self.subtype + "_loop_exit", "origin_animate_jnt" );
}

actorloop( var_0 )
{
    self.linktoent endon( "unload" );

    for (;;)
        self.linktoent scripts\common\anim::anim_single_solo( var_0, "lbravo_infil_" + self.subtype + "_loop", "origin_animate_jnt" );
}

actorthinkanim( var_0, var_1, var_2, var_3 )
{
    self.linktoent thread scripts\common\anim::anim_single( self.actors, "lbravo_infil_" + var_2, "origin_animate_jnt" );
    var_4 = getanimlength( level.scr_anim["pilot"]["lbravo_infil_" + var_2] );
    wait( var_4 );

    foreach ( var_6 in self.actors )
        var_6 delete();

    self.actors = undefined;
}

spawnactors( var_0, var_1, var_2 )
{
    var_3 = [];
    var_3[var_3.size] = self.linktoent spawn_anim_model( "pilot", "origin_animate_jnt", "allied_pilot_fullbody_1" );
    var_3[var_3.size] = self.linktoent spawn_anim_model( "copilot", "origin_animate_jnt", "allied_pilot_fullbody_2" );

    foreach ( var_5 in var_3 )
        var_5.infil = self;

    return var_3;
}

spawn_anim_model( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = spawn( "script_model", ( 0, 0, 0 ) );
    var_5 setmodel( var_2 );

    if ( isdefined( var_3 ) )
    {
        var_6 = spawn( "script_model", ( 0, 0, 0 ) );
        var_6 setmodel( var_3 );
        var_6 linkto( var_5, "j_spine4", ( 0, 0, 0 ), ( 0, 0, 0 ) );
        var_5.head = var_6;
        var_5 thread scripts\engine\utility::delete_on_death( var_6 );
    }

    if ( isdefined( var_4 ) )
    {
        var_7 = spawn( "script_model", ( 0, 0, 0 ) );
        var_7 setmodel( var_4 );
        var_7 linkto( var_5, "j_gun", ( 0, 0, 0 ), ( 0, 0, 0 ) );
        var_5 thread scripts\engine\utility::delete_on_death( var_7 );
        var_5.weapon = var_7;
    }

    var_5.animname = var_0;
    var_5 scripts\common\anim::setanimtree();

    if ( isdefined( var_1 ) )
    {
        thread scripts\engine\utility::delete_on_death( var_5 );
        var_5 linkto( self, var_1, ( 0, 0, 0 ), ( 0, 0, 0 ) );
    }

    return var_5;
}

initanims( var_0 )
{
    script_model_alpha_anims( var_0 );
    vehicles_alpha_anims( var_0 );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "free_look", scripts\mp\utility\infilexfil::player_free_look, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "fov_80_instant", scripts\mp\utility\infilexfil::player_fov_80_instant );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "fov_63_2", scripts\mp\utility\infilexfil::player_fov_default_2 );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_alpha" );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "shake_on", scripts\mp\utility\infilexfil::cam_shake_low, "lbravo_infil_bravo" );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_alpha_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_0", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_1", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_2", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_3", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_4", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
    scripts\common\anim::addnotetrack_customfunction( "slot_5", "shake_off", scripts\mp\utility\infilexfil::cam_shake_off, "lbravo_infil_bravo_exit" );
}

#using_animtree("script_model");

script_model_alpha_anims( var_0 )
{
    switch ( var_0 )
    {
        case "alpha":
            level.scr_animtree["pilot"] = #animtree;
            level.scr_anim["pilot"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_pilot;
            level.scr_animname["pilot"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_pilot";
            level.scr_animtree["pilot"] = #animtree;
            level.scr_anim["pilot"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_a_pilot_loop;
            level.scr_animname["pilot"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_a_pilot_loop";
            level.scr_animtree["pilot"] = #animtree;
            level.scr_anim["pilot"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_pilot_loop_exit;
            level.scr_animname["pilot"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_pilot_loop_exit";
            level.scr_animtree["copilot"] = #animtree;
            level.scr_anim["copilot"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_copilot;
            level.scr_animname["copilot"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_copilot";
            level.scr_animtree["copilot"] = #animtree;
            level.scr_anim["copilot"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_a_copilot_loop;
            level.scr_animname["copilot"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_a_copilot_loop";
            level.scr_animtree["copilot"] = #animtree;
            level.scr_anim["copilot"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_copilot_loop_exit;
            level.scr_animname["copilot"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_copilot_loop_exit";
            level.scr_animtree["slot_0"] = #animtree;
            level.scr_anim["slot_0"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy1_wm;
            level.scr_animname["slot_0"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy1_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_alpha"] = "infil_lbravo_a_1";
            level.scr_anim["slot_0"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy1_exit_wm;
            level.scr_animname["slot_0"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy1_exit_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_1";
            level.scr_anim["slot_0"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy1_wm;
            level.scr_animname["slot_0"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy1_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_1";
            level.scr_anim["slot_0"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy1_loop_exit_wm;
            level.scr_animname["slot_0"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy1_loop_exit_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_1";
            level.scr_animtree["slot_1"] = #animtree;
            level.scr_anim["slot_1"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy2_wm;
            level.scr_animname["slot_1"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy2_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_alpha"] = "infil_lbravo_a_2";
            level.scr_anim["slot_1"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy2_exit_wm;
            level.scr_animname["slot_1"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy2_exit_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_2";
            level.scr_anim["slot_1"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy2_wm;
            level.scr_animname["slot_1"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy2_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_2";
            level.scr_anim["slot_1"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy2_loop_exit_wm;
            level.scr_animname["slot_1"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy2_loop_exit_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_2";
            level.scr_animtree["slot_2"] = #animtree;
            level.scr_anim["slot_2"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy3_wm;
            level.scr_animname["slot_2"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy3_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_alpha"] = "infil_lbravo_a_3";
            level.scr_anim["slot_2"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy3_exit_wm;
            level.scr_animname["slot_2"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy3_exit_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_3";
            level.scr_anim["slot_2"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy3_wm;
            level.scr_animname["slot_2"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy3_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_3";
            level.scr_anim["slot_2"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy3_loop_exit_wm;
            level.scr_animname["slot_2"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy3_loop_exit_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_3";
            level.scr_animtree["slot_3"] = #animtree;
            level.scr_anim["slot_3"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy4_wm;
            level.scr_animname["slot_3"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy4_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_alpha"] = "infil_lbravo_a_4";
            level.scr_anim["slot_3"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy4_exit_wm;
            level.scr_animname["slot_3"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy4_exit_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_4";
            level.scr_anim["slot_3"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy4_wm;
            level.scr_animname["slot_3"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy4_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_4";
            level.scr_anim["slot_3"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy4_loop_exit_wm;
            level.scr_animname["slot_3"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy4_loop_exit_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_4";
            level.scr_animtree["slot_4"] = #animtree;
            level.scr_anim["slot_4"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy5_wm;
            level.scr_animname["slot_4"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy5_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_alpha"] = "infil_lbravo_a_5";
            level.scr_anim["slot_4"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy5_exit_wm;
            level.scr_animname["slot_4"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy5_exit_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_5";
            level.scr_anim["slot_4"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy5_wm;
            level.scr_animname["slot_4"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy5_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_5";
            level.scr_anim["slot_4"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy5_loop_exit_wm;
            level.scr_animname["slot_4"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy5_loop_exit_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_5";
            level.scr_animtree["slot_5"] = #animtree;
            level.scr_anim["slot_5"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_guy6_wm;
            level.scr_animname["slot_5"]["lbravo_infil_alpha"] = "mp_infil_lbravo_a_guy6_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_alpha"] = "infil_lbravo_a_6";
            level.scr_anim["slot_5"]["lbravo_infil_alpha_exit"] = %mp_infil_lbravo_b_guy6_exit_wm;
            level.scr_animname["slot_5"]["lbravo_infil_alpha_exit"] = "mp_infil_lbravo_b_guy6_exit_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_alpha_exit"] = "infil_lbravo_b_exit_6";
            level.scr_anim["slot_5"]["lbravo_infil_alpha_loop"] = %mp_infil_lbravo_b_guy6_wm;
            level.scr_animname["slot_5"]["lbravo_infil_alpha_loop"] = "mp_infil_lbravo_b_guy6_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_alpha_loop"] = "infil_lbravo_b_6";
            level.scr_anim["slot_5"]["lbravo_infil_alpha_loop_exit"] = %mp_infil_lbravo_a_guy6_loop_exit_wm;
            level.scr_animname["slot_5"]["lbravo_infil_alpha_loop_exit"] = "mp_infil_lbravo_a_guy6_loop_exit_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_alpha_loop_exit"] = "infil_lbravo_a_loop_exit_6";
            break;
        case "bravo":
            level.scr_animtree["pilot"] = #animtree;
            level.scr_anim["pilot"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_pilot;
            level.scr_animname["pilot"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_pilot";
            level.scr_animtree["copilot"] = #animtree;
            level.scr_anim["copilot"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_copilot;
            level.scr_animname["copilot"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_copilot";
            level.scr_animtree["slot_0"] = #animtree;
            level.scr_anim["slot_0"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy1_wm;
            level.scr_animname["slot_0"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy1_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_bravo"] = "infil_lbravo_b_1";
            level.scr_anim["slot_0"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy1_exit_wm;
            level.scr_animname["slot_0"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy1_exit_wm";
            level.scr_eventanim["slot_0"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_1";
            level.scr_animtree["slot_1"] = #animtree;
            level.scr_anim["slot_1"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy2_wm;
            level.scr_animname["slot_1"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy2_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_bravo"] = "infil_lbravo_b_2";
            level.scr_anim["slot_1"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy2_exit_wm;
            level.scr_animname["slot_1"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy2_exit_wm";
            level.scr_eventanim["slot_1"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_2";
            level.scr_animtree["slot_2"] = #animtree;
            level.scr_anim["slot_2"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy3_wm;
            level.scr_animname["slot_2"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy3_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_bravo"] = "infil_lbravo_b_3";
            level.scr_anim["slot_2"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy3_exit_wm;
            level.scr_animname["slot_2"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy3_exit_wm";
            level.scr_eventanim["slot_2"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_3";
            level.scr_animtree["slot_3"] = #animtree;
            level.scr_anim["slot_3"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy4_wm;
            level.scr_animname["slot_3"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy4_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_bravo"] = "infil_lbravo_b_4";
            level.scr_anim["slot_3"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy4_exit_wm;
            level.scr_animname["slot_3"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy4_exit_wm";
            level.scr_eventanim["slot_3"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_4";
            level.scr_animtree["slot_4"] = #animtree;
            level.scr_anim["slot_4"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy5_wm;
            level.scr_animname["slot_4"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy5_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_bravo"] = "infil_lbravo_b_5";
            level.scr_anim["slot_4"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy5_exit_wm;
            level.scr_animname["slot_4"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy5_exit_wm";
            level.scr_eventanim["slot_4"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_5";
            level.scr_animtree["slot_5"] = #animtree;
            level.scr_anim["slot_5"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_guy6_wm;
            level.scr_animname["slot_5"]["lbravo_infil_bravo"] = "mp_infil_lbravo_b_guy6_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_bravo"] = "infil_lbravo_b_6";
            level.scr_anim["slot_5"]["lbravo_infil_bravo_exit"] = %mp_infil_lbravo_b_guy6_exit_wm;
            level.scr_animname["slot_5"]["lbravo_infil_bravo_exit"] = "mp_infil_lbravo_b_guy6_exit_wm";
            level.scr_eventanim["slot_5"]["lbravo_infil_bravo_exit"] = "infil_lbravo_b_exit_6";
            break;
    }
}

#using_animtree("mp_vehicles_always_loaded");

vehicles_alpha_anims( var_0 )
{
    switch ( var_0 )
    {
        case "alpha":
            level.scr_animtree["lbravo"] = #animtree;
            level.scr_anim["lbravo"]["lbravo_infil_alpha"] = %mp_infil_lbravo_a_heli;
            break;
        case "bravo":
            level.scr_animtree["lbravo"] = #animtree;

            switch ( getdvar( "mapname" ) )
            {
                case "mp_runner":
                    level.scr_anim["lbravo"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_heli_runner;
                    break;
                default:
                    level.scr_anim["lbravo"]["lbravo_infil_bravo"] = %mp_infil_lbravo_b_heli;
                    break;
            }

            break;
    }
}

commander_play_sound_func( var_0, var_1, var_2 )
{
    foreach ( var_4 in self.infil.players )
        self playsoundtoplayer( var_0, var_4 );
}

vehiclethinkpath( var_0, var_1, var_2, var_3 )
{
    level waittill( "infil_started" );
    self.linktoent endon( "death" );
    self.linktoent.unload_hover_offset = 116;
    self.linktoent.unload_time = 3.5;
    self.linktoent vehicle_paths_helicopter( self.path );
    thread gopath( self.linktoent );
}

vehiclefollowpath( var_0 )
{
    self endon( "death" );
    self endon( "stop_follow_path" );
    self startpath( var_0 );

    for ( var_1 = scripts\engine\utility::getstruct( var_0.target, "targetname" ); isdefined( var_1 ); var_1 = scripts\engine\utility::getstruct( var_1.target, "targetname" ) )
    {
        var_1 waittill( "trigger" );

        if ( !isdefined( var_1.target ) )
            break;
    }

    self vehicle_setspeedimmediate( 0, 30, 30 );

    for ( var_2 = self vehicle_getspeed(); var_2 > 1; var_2 = self vehicle_getspeed() )
        wait 0.1;
}

gopath( var_0 )
{
    if ( !isdefined( var_0 ) )
        var_0 = self;

    var_0 endon( "death" );

    if ( isdefined( var_0.hasstarted ) )
        return;
    else
        var_0.hasstarted = 1;

    var_0 scripts\engine\utility::script_delay();
    var_0 notify( "start_vehiclepath" );
    var_0 notify( "start_dynamicpath" );
}

vehicle_paths_helicopter( var_0, var_1, var_2 )
{
    self notify( "newpath" );
    self endon( "newpath" );
    self endon( "death" );

    if ( !isdefined( var_1 ) )
        var_1 = 0;

    if ( isdefined( var_0 ) )
        self.attachedpath = var_0;

    var_3 = self.attachedpath;
    self.currentnode = self.attachedpath;

    if ( !isdefined( var_3 ) )
        return;

    var_4 = var_3;

    if ( var_1 )
        self waittill( "start_dynamicpath" );

    if ( isdefined( var_2 ) )
    {
        var_5 = spawnstruct();
        var_5.origin = ( self.origin[0], self.origin[1], self.origin[2] + var_2 );
        heli_wait_node( var_5, undefined );
    }

    var_6 = undefined;
    var_7 = var_3;
    var_8 = get_path_getfunc( var_3 );

    while ( isdefined( var_7 ) )
    {
        if ( isdefined( var_7.script_linkto ) )
            set_lookat_from_dest( var_7 );

        heli_wait_node( var_7, var_6, var_2 );

        if ( !isdefined( self ) )
            return;

        self.currentnode = var_7;
        var_7 notify( "trigger", self );

        if ( isdefined( var_7.script_delete ) )
        {
            self delete();
            return;
        }

        if ( isdefined( var_7.script_helimove ) )
        {
            self setyawspeedbyname( var_7.script_helimove );

            if ( var_7.script_helimove == "faster" )
                self setmaxpitchroll( 25, 50 );
        }

        if ( !isdefined( self ) )
            return;

        if ( isdefined( var_7.script_team ) )
            self.script_team = var_7.script_team;

        if ( isdefined( var_7.script_unload ) )
        {
            self notify( "unload" );
            scripts\engine\utility::waittill_notify_or_timeout( "unloaded", self.unload_time );
            level notify( "players_unloaded_from_infil" );
        }

        if ( self vehicle_isphysveh() )
        {
            if ( isdefined( var_7.script_pathtype ) )
                self.veh_pathtype = var_7.script_pathtype;
        }

        if ( isdefined( var_7.script_flag_wait ) )
        {
            scripts\engine\utility::flag_wait( var_7.script_flag_wait );

            if ( isdefined( var_7.script_delay_post ) )
                wait( var_7.script_delay_post );

            self notify( "delay_passed" );
        }

        if ( isdefined( self.set_lookat_point ) )
        {
            self.set_lookat_point = undefined;
            self clearlookatent();
        }

        var_6 = var_7;

        if ( !isdefined( var_7.target ) )
            break;

        var_7 = [[ var_8 ]]( var_7.target );

        if ( !isdefined( var_7 ) )
        {
            var_7 = var_6;
            break;
        }
    }

    self notify( "reached_dynamic_path_end" );

    if ( isdefined( self.script_vehicle_selfremove ) )
        self delete();
}

heli_wait_node( var_0, var_1, var_2 )
{
    self endon( "newpath" );

    if ( isdefined( var_0.script_unload ) || isdefined( var_0.script_land ) )
    {
        var_3 = 0;

        if ( isdefined( var_0.script_land ) )
        {
            scripts\engine\utility::ent_flag_set( "landed" );

            if ( isdefined( self.unload_land_offset ) )
                var_3 = self.unload_land_offset;
        }
        else if ( isdefined( var_0.script_unload ) && isdefined( self.unload_hover_offset ) )
            var_3 = self.unload_hover_offset;
        else if ( isdefined( var_0.script_unload ) && isdefined( self.unload_hover_offset_max ) )
        {
            var_4 = scripts\common\utility::groundpos( var_0.origin );
            var_3 = var_0.origin[2] - var_4[2];

            if ( var_3 >= self.unload_hover_offset_max )
                var_3 = self.unload_hover_offset_max;
            else if ( isdefined( self.unload_hover_land_height ) && var_3 < self.unload_hover_land_height )
                var_3 = self.unload_hover_land_height;
        }

        var_0.radius = 2;

        if ( isdefined( var_0.ground_pos ) )
            var_0.origin = var_0.ground_pos + ( 0, 0, var_3 );
        else
        {
            var_5 = scripts\common\utility::groundpos( var_0.origin ) + ( 0, 0, var_3 );

            if ( var_5[2] > var_0.origin[2] - 2000 )
                var_0.origin = scripts\common\utility::groundpos( var_0.origin ) + ( 0, 0, var_3 );
        }

        self sethoverparams( 0, 0, 0 );
    }

    if ( isdefined( var_1 ) )
    {
        var_6 = var_1.script_airresistance;
        var_7 = var_1.speed;
        var_8 = var_1.script_accel;
        var_9 = var_1.script_decel;
    }
    else
    {
        var_6 = undefined;
        var_7 = undefined;
        var_8 = undefined;
        var_9 = undefined;
    }

    var_10 = isdefined( var_0.script_stopnode ) && var_0.script_stopnode;
    var_11 = isdefined( var_0.script_unload );
    var_12 = isdefined( var_0.script_flag_wait ) && !scripts\engine\utility::flag( var_0.script_flag_wait );
    var_13 = !isdefined( var_0.target );
    var_14 = isdefined( var_0.script_delay );

    if ( isdefined( var_0.angles ) )
        var_15 = var_0.angles[1];
    else
        var_15 = 0;

    if ( self.health <= 0 )
        return;

    var_16 = var_0.origin;

    if ( isdefined( var_2 ) )
        var_16 = ( var_16[0], var_16[1], var_16[2] + var_2 );

    if ( isdefined( self.heliheightoverride ) )
        var_16 = ( var_16[0], var_16[1], self.heliheightoverride );

    self vehicle_helisetai( var_16, var_7, var_8, var_9, var_0.script_goalyaw, var_0.script_anglevehicle, var_15, var_6, var_14, var_10, var_11, var_12, var_13 );

    if ( isdefined( var_0.radius ) )
    {
        self setneargoalnotifydist( var_0.radius );
        scripts\engine\utility::_id_12E3F( "near_goal", "goal" );
    }
    else
        self waittill( "goal" );

    if ( isdefined( var_0.script_flag_set ) )
        level notify( var_0.script_flag_set );

    if ( isdefined( var_0.script_firelink ) )
    {
        if ( !isdefined( level.helicopter_firelinkfunk ) )
        {

        }

        thread [[ level.helicopter_firelinkfunk ]]( var_0 );
    }

    var_0 scripts\engine\utility::script_delay();

    if ( isdefined( self.path_gobbler ) )
        scripts\engine\utility::deletestruct_ref( var_0 );

    self notify( "continuepath" );
}

get_path_getfunc( var_0 )
{
    var_1 = ::get_from_vehicle_node;

    if ( isdefined( var_0.target ) )
    {
        if ( isdefined( get_from_entity( var_0.target ) ) )
            var_1 = ::get_from_entity;

        if ( isdefined( get_from_spawnstruct( var_0.target ) ) )
            var_1 = ::get_from_spawnstruct;
    }

    return var_1;
}

get_from_vehicle_node( var_0 )
{
    return getvehiclenode( var_0, "targetname" );
}

get_from_spawnstruct( var_0 )
{
    return scripts\engine\utility::getstruct( var_0, "targetname" );
}

get_from_entity( var_0 )
{
    var_1 = getentarray( var_0, "targetname" );

    if ( isdefined( var_1 ) && var_1.size > 0 )
        return var_1[randomint( var_1.size )];

    return undefined;
}

set_lookat_from_dest( var_0 )
{
    var_1 = getent( var_0.script_linkto, "script_linkname" );

    if ( !isdefined( var_1 ) )
        return;

    self setlookatent( var_1 );
    self.set_lookat_point = 1;
}

parsepathlength()
{
    if ( !isdefined( self.path ) )
        return 0.0;

    if ( isdefined( self.pathduration ) )
        return self.pathduration;

    self.pathduration = 0.0;
    var_0 = self.path;
    var_1 = var_0.speed;

    for (;;)
    {
        if ( isdefined( var_0.script_unload ) )
            break;

        if ( !isdefined( var_0.target ) )
            break;

        var_2 = scripts\engine\utility::getstruct( var_0.target, "targetname" );

        if ( !isdefined( var_2 ) )
            break;

        var_3 = distance( var_0.origin, var_2.origin );

        if ( isdefined( var_0.speed ) )
            var_1 = var_0.speed;

        var_4 = 17.6;
        self.pathduration = self.pathduration + var_3 * 1.8 / ( var_1 * var_4 );
        var_0 = var_2;
    }

    return self.pathduration;
}
