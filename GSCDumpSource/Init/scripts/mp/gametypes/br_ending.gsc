// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

checkpoint_next_fx_set()
{
    if ( !should_use_velo_forward( getdvar( "scr_br_gametype" ) ) )
        return;

    setdvarifuninitialized( "scr_br_ending_enabled", 1 );
    drop_type();
}

defend_death_counter()
{
    if ( !getdvarint( "scr_br_ending_enabled" ) )
        return 0;

    if ( !should_use_velo_forward( getdvar( "scr_br_gametype" ) ) )
        return 0;

    if ( istrue( level.chopper_carepackage_set_useable ) )
        return 0;

    return 1;
}

should_use_velo_forward( var_0 )
{
    var_1 = 0;

    switch ( var_0 )
    {
        case "bodycount":
        case "zxp":
        case "brdov":
        case "truckwar":
        case "brz":
        case "rebirth":
        case "mini":
        case "jugg":
        case "":
            var_1 = 1;
            break;
    }

    return var_1;
}

trial_enemy_dont_drop_weapon( var_0, var_1 )
{
    if ( !defend_death_counter() )
        return;

    level notify( "stop_suspense_music" );
    var_0 = scripts\engine\utility::array_removeundefined( var_0 );
    var_0 = scripts\engine\utility::array_sort_with_func( var_0, ::exfil_clear_objective );
    level notify( "br_ending_start" );
    level.clean_up_rocket = 1;
    var_2 = fire_minigun( var_0, var_1 );
    var_2 _id_11DE8( "chopper", var_1 );
    var_0 = undefined;
    level.checkpoint_name = var_2;
    hurt_trigger_manage_dog_tag( var_2 );
    var_3 = hurtplayersinbunker( var_2 );
    end_this_module( var_2.origin, 1000 );
    end_node();
    var_2 scripts\common\anim::anim_first_frame_solo( var_2.debug_show2dvotext, var_2.target_waves[0].anime );

    foreach ( var_5 in level.players )
    {
        var_5 cameradefault();
        var_5 cameralinkto( var_2.debug_show2dvotext, "tag_player", 1, 1 );
    }

    foreach ( var_8 in var_2.target_waves )
    {
        if ( isdefined( var_8.startfunc ) )
            [[ var_8.startfunc ]]( var_8.teamanchoredwidget );

        if ( isdefined( var_8.fx ) )
            playfx( scripts\engine\utility::getfx( var_8.fx ), var_8.justbecamehvt, anglestoforward( var_8.jump_music ), anglestoup( var_8.jump_music ) );

        if ( var_8.players.size > 0 )
        {
            var_8.players = scripts\engine\utility::array_removeundefined( var_8.players );

            foreach ( var_5 in var_8.players )
            {
                var_5 dontinterpolate();

                if ( isdefined( var_5.safechecknum ) )
                {
                    if ( !isplayer( var_5 ) )
                        var_5.safechecknum thread scripts\common\anim::anim_single_solo( var_5.player_rig, var_8.anime, var_5.safecheckstring );
                    else
                        var_5.safechecknum thread scripts\mp\anim::anim_player_solo( var_5, var_5.player_rig, var_8.anime, var_5.safecheckstring );

                    continue;
                }

                if ( !isplayer( var_5 ) )
                {
                    var_2 thread scripts\common\anim::anim_single_solo( var_5.player_rig, var_8.anime );
                    continue;
                }

                var_2 thread scripts\mp\anim::anim_player_solo( var_5, var_5.player_rig, var_8.anime );
            }

            if ( isdefined( var_2.tv_station_fastrope_one_infil_start_targetname_array ) )
            {
                foreach ( var_12 in var_2.tv_station_fastrope_one_infil_start_targetname_array )
                {
                    if ( isdefined( var_12.player ) )
                        continue;

                    if ( isdefined( var_12.safechecknum ) )
                    {
                        var_12.safechecknum thread scripts\common\anim::anim_single_solo( var_12, var_8.anime, var_12.safecheckstring );
                        continue;
                    }

                    var_2 thread scripts\common\anim::anim_single_solo( var_12, var_8.anime );
                }
            }
        }

        if ( var_8.ents.size > 0 )
        {
            foreach ( var_15 in var_8.ents )
                var_15 dontinterpolate();

            var_2 thread scripts\common\anim::anim_single( var_8.ents, var_8.anime );
        }

        var_2.debug_show2dvotext dontinterpolate();
        var_2 scripts\common\anim::anim_single_solo( var_2.debug_show2dvotext, var_8.anime );
        waitframe();
    }

    wait 1;

    foreach ( var_8 in var_2.target_waves )
    {
        foreach ( var_15 in var_8.ents )
        {
            if ( isdefined( var_15 ) )
            {
                if ( isdefined( var_15.linkedents ) )
                    scripts\engine\utility::array_delete( var_15.linkedents );

                var_15 delete();
            }
        }
    }

    binoculars_onstatelospendingexit();

    foreach ( var_5 in level.players )
    {
        if ( isdefined( var_5 ) && isdefined( var_5.player_rig ) )
        {
            if ( isdefined( var_5.sessionstate ) && var_5.sessionstate == "spectator" )
                var_5 setspectatedefaults( var_2.origin, var_2.angles );
            else
                var_5 setorigin( var_2.origin );

            var_5.player_rig delete();
        }
    }

    var_2.debug_show2dvotext delete();
}

exfil_clear_objective( var_0, var_1 )
{
    return var_0.pers["score"] > var_1.pers["score"];
}

_id_126BD()
{
    wait 25;

    foreach ( var_1 in level.players )
        var_1 setplayermusicstate( "" );
}

hurt_trigger_manage_dog_tag( var_0 )
{
    level.cop_car_initomnvars = 1;
    level notify( "brSpawnPlayersEnding" );

    foreach ( var_2 in level.players )
    {
        var_2 predictstreampos( var_0.origin );
        var_2 scripts\mp\utility\player::hidehudenable();
        var_2 setcinematicmotionoverride( "disabled" );
        var_2 setclientomnvar( "ui_br_squad_eliminated_active", 0 );

        if ( isdefined( var_2.sessionstate ) )
        {
            if ( var_2.sessionstate == "intermission" )
                var_2 scripts\mp\utility\player::updatesessionstate( "spectator" );

            if ( var_2.sessionstate == "spectator" )
            {
                var_2 setspectatedefaults( var_0.debug_show2dvotext.origin, var_0.debug_show2dvotext.angles );
                var_2 spawn( var_0.debug_show2dvotext.origin, var_0.debug_show2dvotext.angles );
                continue;
            }

            var_2 setorigin( var_0.origin + ( 0, 0, 100 ) );
        }
    }
}

hurtplayersinbunker( var_0 )
{
    var_1 = var_0.winners;
    var_2 = undefined;

    foreach ( var_4 in var_1 )
    {
        if ( !isdefined( var_4 ) )
            continue;

        if ( isdefined( var_4.sessionstate ) && var_4.sessionstate == "playing" )
        {
            var_2 = var_4.origin;
            break;
        }
    }

    var_6 = -1;
    var_7 = [];
    var_8 = 0;

    foreach ( var_13, var_4 in var_1 )
    {
        if ( !isdefined( var_4 ) )
            continue;

        if ( !isplayer( var_4 ) )
            continue;

        if ( isdefined( var_4.sessionstate ) && var_4.sessionstate != "playing" )
        {
            var_4.forcespawnorigin = var_2;
            var_4 scripts\mp\playerlogic::spawnplayer( 0 );
        }

        var_4 tryspawnscriptable();
        var_4 truck_04_node();
        var_4.plotarmor = 1;
        var_4.oobimmunity = 1;
        var_4.safechecknum = undefined;
        var_4.safecheckstring = undefined;
        var_10 = var_4 scripts\mp\teams::lookupcurrentoperator( var_4.team );
        var_11 = scripts\mp\teams::getoperatorgender( var_10 );
        var_12 = 8 * var_8;
        var_6 = var_6 & ~( 255 << var_12 );
        var_6 = var_6 | var_4 getentitynumber() << var_12;
        var_4._id_13018 = var_8;
        var_8++;

        if ( !isdefined( var_4.animname ) || var_4.animname != var_4.cleanuppropcontrolshudondeath )
            var_4.animname = var_4.cleanuppropcontrolshudondeath;

        var_4 thread tv_station_gas_rise();
        var_4 create_player_rig( var_4.animname, "viewhands_base_iw8", var_0.origin );
        level thread hurt_trigger_active( var_4 );
        var_7[var_7.size] = var_4.player_rig;
    }

    setomnvarforallclients( "ui_br_winners", var_6 );
    return var_7;
}

finishreviveplayer( var_0 )
{
    var_1 = spawn( "script_model", self.origin );
    var_1 setmodel( "tag_origin" );
    var_1.propgiveteamscore = 1;
    var_1.cleanuppropcontrolshudondeath = "player0";
    var_1.origin = var_0.origin;
    var_1.angles = var_0.angles;
    var_1 create_player_rig( var_1.cleanuppropcontrolshudondeath, "viewhands_base_iw8", var_0.origin );
    var_1 linkto( var_1.player_rig, "tag_player", ( 0, 0, 0 ), ( 0, 0, 0 ) );
    level thread hurt_trigger_active( var_1, 1 );
    var_0.winners[0] = var_1;
}

tryspawnscriptable()
{
    if ( scripts\cp_mp\utility\player_utility::isinvehicle( 1 ) )
        scripts\cp_mp\vehicles\vehicle_occupancy::vehicle_occupancy_ejectalloccupants( self.vehicle );

    if ( istrue( self.usingascender ) )
        scripts\cp_mp\auto_ascender::bot_loadout_choose_from_custom_default_class();

    if ( isdefined( self.remoteuav ) )
        self.remoteuav scripts\mp\killstreaks\remoteuav::remoteuav_leave();

    if ( isdefined( self.currentturret ) )
        scripts\cp_mp\killstreaks\manual_turret::manualturret_endplayeruse( self.currentturret );

    if ( isdefined( self.usingremote ) )
    {
        var_0 = vehicle_getarray();

        foreach ( var_2 in var_0 )
        {
            if ( isdefined( var_2.owner ) && var_2.owner == self )
            {
                if ( isdefined( var_2.helperdronetype ) )
                    var_2 scripts\cp_mp\killstreaks\helper_drone::helperdroneexplode( 1 );
            }
        }
    }
}

truck_04_node()
{
    if ( !isplayer( self ) )
        return;

    scripts\mp\utility\player::_freezecontrols( 1 );
    self disableoffhandweapons();
    self allowmelee( 0 );
    self allowads( 0 );
    self allowfire( 0 );
    self disableweaponswitch();
    scripts\common\utility::allow_vehicle_use( 0 );
    self skydive_interrupt();
}

truck_airdrop()
{
    if ( !isplayer( self ) )
        return;

    scripts\mp\utility\player::_freezecontrols( 0 );
    self enableoffhandweapons();
    self allowmelee( 1 );
    self allowads( 1 );
    self allowfire( 1 );
    self enableweaponswitch();
    scripts\common\utility::allow_vehicle_use( 1 );
}

hurt_trigger_active( var_0, var_1 )
{
    var_2 = var_0.player_rig;
    var_3 = isplayer( var_0 );

    if ( !isdefined( var_1 ) )
        var_0 waittill( "disconnect" );
    else
        wait 0.1;

    if ( !isdefined( var_2 ) )
        return;

    playfxontag( scripts\engine\utility::getfx( "player_disconnect" ), var_2, "tag_player" );
}

tv_station_gas_rise()
{
    if ( istrue( self.isjuggernaut ) )
        return;

    var_0 = undefined;
    var_1 = self getweaponslistprimaries();

    foreach ( var_3 in var_1 )
    {
        if ( var_3.classname != "rifle" )
            continue;

        var_0 = var_3;

        if ( isdefined( var_0 ) )
            break;
    }

    if ( !nullweapon( self.currentweapon ) )
    {
        self clearaccessory();
        self takeallweapons();
    }
    else
        waitframe();

    if ( !isdefined( var_0 ) )
        var_0 = scripts\mp\class::current_anim_ref( "iw8_ar_mike4", "none", "none", 1 );

    scripts\cp_mp\utility\inventory_utility::_giveweapon( var_0, undefined, undefined, 1 );
    self.pers["primaryWeapon"] = createheadicon( var_0 );
    self.primaryweapon = createheadicon( var_0 );
    self.primaryweaponobj = var_0;
    self.secondaryweapon = undefined;
    self.secondaryweaponobj = undefined;

    if ( self getweaponammoclip( var_0 ) < 5 )
        self setweaponammoclip( var_0, 5 );

    var_5 = self switchtoweapon( var_0 );
}

_id_11DE8( var_0, var_1 )
{
    switch ( var_0 )
    {
        default:
            drop_in_progress( var_1 );
            break;
    }
}

fire_minigun( var_0, var_1 )
{
    var_2 = lb_impulse_dmg_factor_mid_high( var_0, var_1 );
    var_2.winners = var_0;
    var_2.debug_show2dvotext = var_2 findgunsmithattachments();
    return var_2;
}

lb_impulse_dmg_factor_mid_high( var_0, var_1 )
{
    var_2 = lb_impulse_dmg_factor_mid_low( var_0, var_1 );

    if ( !isdefined( var_2[0].angles ) )
        var_2[0].angles = ( 0, 0, 0 );

    return var_2[0];
}

lb_impulse_dmg_factor_mid_low( var_0, var_1 )
{
    if ( level.script == "mp_br_mechanics" )
        var_2 = scripts\engine\utility::getstructarray( "br_ending_spot", "targetname" );
    else if ( level.script == "mp_br_quarry" )
        var_2 = spawn_fx_on_node();
    else if ( scripts\cp_mp\utility\game_utility::radialairstrike() )
        var_2 = spawn_fulton_rope_mdl();
    else if ( level.script == "mp_don4" )
        var_2 = spawn_guys_at_lz();
    else if ( level.script == "mp_wz_island" )
        var_2 = spawn_module_building_chopper2();
    else
        var_2 = spawn_guys_into_truck();

    var_0 = scripts\engine\utility::array_removeundefined( var_0 );

    if ( var_0.size > 0 )
        var_3 = get_center_of_array( var_0 );
    else
        var_3 = var_1;

    var_2 = sortbydistance( var_2, var_3 );
    return var_2;
}

end_this_module( var_0, var_1 )
{
    var_2 = tablesort( var_0, var_1, 20000 );

    foreach ( var_4 in var_2 )
        scripts\cp_mp\vehicles\vehicle::_id_12C75( var_4 );
}

end_node()
{
    foreach ( var_1 in level.checkpoint_name.winners )
    {
        if ( isdefined( var_1.retreat_vehicle_collision_clear ) )
        {
            scripts\mp\utility\outline::outlinedisable( var_1.retreat_vehicle_collision_clear, var_1 );
            var_1.retreat_vehicle_collision_clear = undefined;
        }
    }
}

spawn_guys_into_truck()
{
    var_0 = [];
    var_0[0] = flag_set_role( ( -35516, -26964, -290.492 ), ( 0, -37.2493, 0 ), 1 );
    var_0[1] = flag_set_role( ( -24507.4, -31751.5, -118 ), ( 0, 24.7373, 0 ) );
    var_0[2] = flag_set_role( ( -18475.3, -38031.3, 1390 ), ( 0, 21.3294, 0 ) );
    var_0[3] = flag_set_role( ( -22962.6, -26693.8, -133.431 ), ( 0, -79.9927, 0 ), 1 );
    var_0[4] = flag_set_role( ( -21665.5, -27275.8, -148.989 ), ( 0, -36.6941, 0 ), 1 );
    var_0[5] = flag_set_role( ( -21726, -25961.2, -146 ), ( 0, -108.126, 0 ), 1 );
    var_0[6] = flag_set_role( ( -12285.8, -40588.5, 518.07 ), ( 0, -148.112, 0 ), 1 );
    var_0[7] = flag_set_role( ( -36409.6, -14177.9, -286.708 ), ( 0, -15.7255, 0 ), 1 );
    var_0[8] = flag_set_role( ( -30525.8, -17654.2, -234.947 ), ( 0, -127.959, 0 ), 1 );
    var_0[9] = flag_set_role( ( -17170.3, -31131.8, 264.201 ), ( 0, -174.161, 0 ), 1 );
    var_0[10] = flag_set_role( ( -28797.3, -17400, -241.606 ), ( 0, 16.8587, 0 ) );
    var_0[11] = flag_set_role( ( -18155.4, -27275.3, -224.811 ), ( 0, -121.999, 0 ), 1 );
    var_0[12] = flag_set_role( ( -9975.39, -38284.4, 344.1 ), ( 0, -46.4665, 0 ), 1 );
    var_0[13] = flag_set_role( ( -29281.2, -13754.2, -145.391 ), ( 0, -11.8112, 0 ) );
    var_0[14] = flag_set_role( ( -17821.6, -23448.4, -262 ), ( 0, 62.3774, 0 ), 1 );
    var_0[15] = flag_set_role( ( -18619.8, -20889.8, -257.189 ), ( 0, -71.9892, 0 ), 1 );
    var_0[16] = flag_set_role( ( -14480.9, -25405.9, -288.831 ), ( 0, 154.786, 0 ), 1 );
    var_0[17] = flag_set_role( ( -9256.33, -33580.9, 158.984 ), ( 0, 146.051, 0 ), 1 );
    var_0[18] = flag_set_role( ( -8492.02, -34971.8, 166.312 ), ( 0, 161.494, 0 ), 1 );
    var_0[19] = flag_set_role( ( -16599, -22468.6, -278.939 ), ( 0, 154.273, 0 ), 1 );
    var_0[20] = flag_set_role( ( -11999.8, -28038.4, -31.998 ), ( 0, 5.45263, 0 ), 1 );
    var_0[21] = flag_set_role( ( -32056.9, -9169.36, -306.919 ), ( 0, 71.9528, 0 ) );
    var_0[22] = flag_set_role( ( -23530.6, -14806.7, -69.1128 ), ( 0, -153.028, 0 ), 1 );
    var_0[23] = flag_set_role( ( -27480.3, -10672.5, -69.3776 ), ( 0, -3.16859, 0 ), 1 );
    var_0[24] = flag_set_role( ( -4660.23, -38889.8, 608.219 ), ( 0, 63.5175, 0 ), 1 );
    var_0[25] = flag_set_role( ( -10475.2, -27452, -31.9999 ), ( 0, 118.642, 0 ), 1 );
    var_0[26] = flag_set_role( ( -20693.1, -15175.3, -304 ), ( 0, -66.6904, 0 ) );
    var_0[27] = flag_set_role( ( -16776.3, -18894, -338.316 ), ( 0, -15.0922, 0 ), 1 );
    var_0[28] = flag_set_role( ( -26751, -7621.31, 40.6807 ), ( 0, 58.4382, 0 ) );
    var_0[29] = flag_set_role( ( -13668.5, -18519.2, -368 ), ( 0, -143.119, 0 ) );
    var_0[30] = flag_set_role( ( -22473.8, -10149.8, -301.138 ), ( 0, -70.3961, 0 ), 1 );
    var_0[31] = flag_set_role( ( -11184.8, -21061.9, -315.854 ), ( 0, 5.70909, 0 ), 1 );
    var_0[32] = flag_set_role( ( -30018.7, -4590.08, -316.327 ), ( 0, 23.8697, 0 ) );
    var_0[33] = flag_set_role( ( -4140.38, -30726.9, 278.381 ), ( 0, -144.114, 0 ) );
    var_0[34] = flag_set_role( ( -34822.4, -1184.25, -263.947 ), ( 0, -71.6069, 0 ), 1 );
    var_0[35] = flag_set_role( ( -26229.5, -4015.4, -313.889 ), ( 0, -117.77, 0 ), 1 );
    var_0[36] = flag_set_role( ( -30027.8, -1782.43, -313.225 ), ( 0, 175.937, 0 ) );
    var_0[37] = flag_set_role( ( -27619.2, -2302.54, -313.891 ), ( 0, -8.77301, 0 ), 1 );
    var_0[38] = flag_set_role( ( -7118.65, -19301.2, -144 ), ( 0, -5.73525, 0 ), 1 );
    var_0[39] = flag_set_role( ( -10491.1, -14985.5, -360 ), ( 0, -103.058, 0 ), 1 );
    var_0[40] = flag_set_role( ( -14283.6, -11003.1, -315.39 ), ( 0, 7.08201, 0 ) );
    var_0[41] = flag_set_role( ( -23169, -3966.54, -321.134 ), ( 0, -83.3339, 0 ), 1 );
    var_0[42] = flag_set_role( ( -8787.73, -15589.1, -367.949 ), ( 0, 100.158, 0 ), 1 );
    var_0[43] = flag_set_role( ( -817.503, -25527.6, -256.485 ), ( 0, -66.9498, 0 ), 1 );
    var_0[44] = flag_set_role( ( -14242.2, -8993.57, -285.128 ), ( 0, 40.3822, 0 ) );
    var_0[45] = flag_set_role( ( 4555.72, -36115.3, -200.848 ), ( 0, -156.66, 0 ), 1 );
    var_0[46] = flag_set_role( ( 1627.87, -28799.2, 312 ), ( 0, 150.838, 0 ), 1 );
    var_0[47] = flag_set_role( ( -9101.03, -10035.7, -320 ), ( 0, 33.7296, 0 ) );
    var_0[48] = flag_set_role( ( -6042.41, -13135.6, -363.999 ), ( 0, -134.727, 0 ), 1 );
    var_0[49] = flag_set_role( ( 3185.75, -25611.3, -288.702 ), ( 0, 93.1862, 0 ), 1 );
    var_0[50] = flag_set_role( ( 1792.7, -23147, -290.615 ), ( 0, -151.835, 0 ), 1 );
    var_0[51] = flag_set_role( ( -35463.8, 7869.36, 52.9549 ), ( 0, -93.1204, 0 ), 1 );
    var_0[52] = flag_set_role( ( -716.066, -18775.2, 934 ), ( 0, -148.79, 0 ) );
    var_0[53] = flag_set_role( ( 1588.6, -20401.1, -285 ), ( 0, -58.1805, 0 ) );
    var_0[54] = flag_set_role( ( 12452, -35755.6, -484 ), ( 0, -28.7822, 0 ), 1 );
    var_0[55] = flag_set_role( ( 4648.29, -19224.9, -286.002 ), ( 0, 28.824, 0 ), 1 );
    var_0[56] = flag_set_role( ( -21706.1, 6555.31, -279.84 ), ( 0, 5.8398, 0 ), 1 );
    var_0[57] = flag_set_role( ( -16018.1, 4086.84, -318.486 ), ( 0, 3.79374, 0 ), 1 );
    var_0[58] = flag_set_role( ( -25374.2, 10918.1, -320 ), ( 0, 120.887, 0 ), 1 );
    var_0[59] = flag_set_role( ( -12119.8, 2981.18, -329.815 ), ( 0, 105.554, 0 ), 1 );
    var_0[60] = flag_set_role( ( -14767.3, 5096.92, -400.009 ), ( 0, 131.701, 0 ), 1 );
    var_0[61] = flag_set_role( ( 8177.97, -19326, -286.002 ), ( 0, 91.7841, 0 ), 1 );
    var_0[62] = flag_set_role( ( 15726.9, -35325.4, 318.345 ), ( 0, 151.377, 0 ), 1 );
    var_0[63] = flag_set_role( ( 11454.7, -22581.5, -214.023 ), ( 0, -92.045, 0 ), 1 );
    var_0[64] = flag_set_role( ( -21126.1, 11662.1, -317.002 ), ( 0, -174.747, 0 ), 1 );
    var_0[65] = flag_set_role( ( -7293.09, 3009.49, -317.508 ), ( 0, -152.562, 0 ), 1 );
    var_0[66] = flag_set_role( ( 17629.6, -32800.1, 15.9988 ), ( 0, 7.32444, 0 ), 1 );
    var_0[67] = flag_set_role( ( 504.818, -3834.63, -449 ), ( 0, 66.6309, 0 ), 1 );
    var_0[68] = flag_set_role( ( -25415.2, 15191.1, -325.003 ), ( 0, -84.1954, 0 ), 1 );
    var_0[69] = flag_set_role( ( 13957.3, -21816.1, -194 ), ( 0, -75.6819, 0 ), 1 );
    var_0[70] = flag_set_role( ( -10176, 6713.5, -400 ), ( 0, 75.3382, 0 ), 1 );
    var_0[71] = flag_set_role( ( -15327.9, 10742.1, -400 ), ( 0, 32.2232, 0 ), 1 );
    var_0[72] = flag_set_role( ( 8420.99, -11753.6, 306 ), ( 0, 83.4712, 0 ), 1 );
    var_0[73] = flag_set_role( ( -22216, 14718, -64.0002 ), ( 0, -82.0633, 0 ), 1 );
    var_0[74] = flag_set_role( ( -17022, 11976.4, -322.43 ), ( 0, 105.663, 0 ), 1 );
    var_0[75] = flag_set_role( ( -30924.8, 19829.7, 205 ), ( 0, -69.3892, 0 ), 1 );
    var_0[76] = flag_set_role( ( -2024.99, 3060.21, -330.017 ), ( 0, -158.048, 0 ), 1 );
    var_0[77] = flag_set_role( ( -28136.9, 19575.5, -448.227 ), ( 0, -98.4958, 0 ), 1 );
    var_0[78] = flag_set_role( ( -12771.2, 11772.2, -326.973 ), ( 0, 19.9583, 0 ), 1 );
    var_0[79] = flag_set_role( ( 22131, -32223, -440 ), ( 0, 119.727, 0 ), 1 );
    var_0[80] = flag_set_role( ( -5075.7, 7706.88, -323.004 ), ( 0, 133.054, 0 ), 1 );
    var_0[81] = flag_set_role( ( -22334.3, 18697.4, 688.005 ), ( 0, 140.553, 0 ), 1 );
    var_0[82] = flag_set_role( ( -25425.5, 20658.8, -448 ), ( 0, 0.274191, 0 ), 1 );
    var_0[83] = flag_set_role( ( 23625.3, -31238.1, -563.054 ), ( 0, -52.2092, 0 ), 1 );
    var_0[84] = flag_set_role( ( -33327.4, 24789.2, 12.4296 ), ( 0, -44.4776, 0 ), 1 );
    var_0[85] = flag_set_role( ( 21118.3, -22709.8, -232 ), ( 0, 42.769, 0 ) );
    var_0[86] = flag_set_role( ( -28418.1, 23715.5, -447.994 ), ( 0, -89.5397, 0 ), 1 );
    var_0[87] = flag_set_role( ( 16769.7, -13392.7, 356.076 ), ( 0, -37.8018, 0 ) );
    var_0[88] = flag_set_role( ( -13952.5, 17259.8, -324 ), ( 0, -76.2444, 0 ), 1 );
    var_0[89] = flag_set_role( ( 24205.4, -25029.5, -328.008 ), ( 0, 169.376, 0 ), 1 );
    var_0[90] = flag_set_role( ( 12118.5, -3994.79, -340.649 ), ( 0, -23.2087, 0 ), 1 );
    var_0[91] = flag_set_role( ( -17899.8, 21527.3, -450.34 ), ( 0, -8.05977, 0 ), 1 );
    var_0[92] = flag_set_role( ( 22217.9, -18422.9, 632 ), ( 0, 162.28, 0 ), 1 );
    var_0[93] = flag_set_role( ( 21407.1, -16363.3, 1916.75 ), ( 0, -1.0712, 0 ), 1 );
    var_0[94] = flag_set_role( ( -2832.02, 13488.4, -319.985 ), ( 0, -0.230498, 0 ), 1 );
    var_0[95] = flag_set_role( ( 3266.46, 9488.52, -317.067 ), ( 0, 97.6153, 0 ), 1 );
    var_0[96] = flag_set_role( ( 22117.5, -13790.4, 256.102 ), ( 0, 135.758, 0 ), 1 );
    var_0[97] = flag_set_role( ( 24850.9, -18555.2, -208.2 ), ( 0, -76.8969, 0 ), 1 );
    var_0[98] = flag_set_role( ( -23053.6, 27499.5, -460.201 ), ( 0, 83.541, 0 ), 1 );
    var_0[99] = flag_set_role( ( -8326.54, 20049.9, -257.261 ), ( 0, 110.381, 0 ), 1 );
    var_0[100] = flag_set_role( ( 19238.7, -6573.38, -40 ), ( 0, -88.569, 0 ) );
    var_0[101] = flag_set_role( ( -36685.3, 33440.3, 1474.01 ), ( 0, -73.7051, 0 ), 1 );
    var_0[102] = flag_set_role( ( 26569.7, -16938.2, -221.571 ), ( 0, 92.2376, 0 ), 1 );
    var_0[103] = flag_set_role( ( 26412.2, -13112.5, -264 ), ( 0, 55.7859, 0 ), 1 );
    var_0[104] = flag_set_role( ( 20248.8, -2154.65, -506.989 ), ( 0, 116.839, 0 ) );
    var_0[105] = flag_set_role( ( -6577.92, 23388.3, -448.004 ), ( 0, -101.867, 0 ), 1 );
    var_0[106] = flag_set_role( ( 18069.7, 1558.6, -590.448 ), ( 0, -85.7224, 0 ), 1 );
    var_0[107] = flag_set_role( ( -10855.2, 27363.9, -259.411 ), ( 0, 148.092, 0 ), 1 );
    var_0[108] = flag_set_role( ( -2919.92, 22409.8, -446.75 ), ( 0, -78.7055, 0 ), 1 );
    var_0[109] = flag_set_role( ( -16866.8, 30593, -225.8 ), ( 0, -75.0401, 0 ), 1 );
    var_0[110] = flag_set_role( ( 37954.1, -37722.9, -577.993 ), ( 0, 69.8195, 0 ), 1 );
    var_0[111] = flag_set_role( ( 35023.3, -24338.2, -566 ), ( 0, 53.0156, 0 ), 1 );
    var_0[112] = flag_set_role( ( 16187.4, 8712.66, -332.163 ), ( 0, -84.2018, 0 ), 1 );
    var_0[113] = flag_set_role( ( -25609.6, 36743.4, 348.439 ), ( 0, -160.438, 0 ) );
    var_0[114] = flag_set_role( ( -14068.2, 31959.7, -250.623 ), ( 0, -153.916, 0 ), 1 );
    var_0[115] = flag_set_role( ( 29348.7, -8361.65, -424.006 ), ( 0, -81.6393, 0 ), 1 );
    var_0[116] = flag_set_role( ( 8670.39, 18913.1, -303.729 ), ( 0, 105.535, 0 ), 1 );
    var_0[117] = flag_set_role( ( 35020.4, -16139.2, -572.017 ), ( 0, 58.7604, 0 ), 1 );
    var_0[118] = flag_set_role( ( 19630.8, 10158.6, -451.09 ), ( 0, -142.492, 0 ), 1 );
    var_0[119] = flag_set_role( ( 43465.3, -36148.1, 51.093 ), ( 0, 112.905, 0 ) );
    var_0[120] = flag_set_role( ( -19560, 39017.6, -640 ), ( 0, 105.902, 0 ) );
    var_0[121] = flag_set_role( ( 3395.98, 28640.1, 1.42773 ), ( 0, 135.948, 0 ), 1 );
    var_0[122] = flag_set_role( ( -12456.8, 38252.8, 0.642883 ), ( 0, 136.198, 0 ) );
    var_0[123] = flag_set_role( ( 34810.3, -3657.19, -488 ), ( 0, -139.433, 0 ) );
    var_0[124] = flag_set_role( ( 48307, -38482.1, 2272 ), ( 0, 54.6218, 0 ), 1 );
    var_0[125] = flag_set_role( ( 17534.5, 19736.7, 318.301 ), ( 0, -103.234, 0 ), 1 );
    var_0[126] = flag_set_role( ( 49054.6, -37186.3, 2272.02 ), ( 0, 62.8379, 0 ), 1 );
    var_0[127] = flag_set_role( ( -26149.3, 47192.9, 2703.16 ), ( 0, 36.4515, 0 ) );
    var_0[128] = flag_set_role( ( 50932.9, -41318, 1347 ), ( 0, -109.525, 0 ), 1 );
    var_0[129] = flag_set_role( ( 44159.8, -13820.7, -87.1293 ), ( 0, -7.88874, 0 ) );
    var_0[130] = flag_set_role( ( 51090.6, -34587.3, 1343.9 ), ( 0, -9.93786, 0 ), 1 );
    var_0[131] = flag_set_role( ( 32681, 7595.22, -497.554 ), ( 0, -48.5794, 0 ), 1 );
    var_0[132] = flag_set_role( ( 35336.5, 3905.92, -551.754 ), ( 0, -23.8152, 0 ), 1 );
    var_0[133] = flag_set_role( ( 52357.4, -33339, 1258.09 ), ( 0, -20.541, 0 ), 1 );
    var_0[134] = flag_set_role( ( -520.246, 39710.8, 2783 ), ( 0, -72.5011, 0 ), 1 );
    var_0[135] = flag_set_role( ( 45634.6, -11566.6, -58.2778 ), ( 0, -151.105, 0 ), 1 );
    var_0[136] = flag_set_role( ( 50376.7, -21886.4, -395.252 ), ( 0, -23.787, 0 ) );
    var_0[137] = flag_set_role( ( 51570.2, -24783.1, -113.531 ), ( 0, 104.684, 0 ), 1 );
    var_0[138] = flag_set_role( ( 39824, 1114.83, -424.993 ), ( 0, 138.361, 0 ), 1 );
    var_0[139] = flag_set_role( ( 25390.7, 20043.1, 1343.21 ), ( 0, 135.63, 0 ), 1 );
    var_0[140] = flag_set_role( ( 52294.1, -25802.7, -83.0376 ), ( 0, -19.67, 0 ), 1 );
    var_0[141] = flag_set_role( ( -11742.3, 47596, 1790.51 ), ( 0, -161.796, 0 ), 1 );
    var_0[142] = flag_set_role( ( 44198.1, -4238.47, 266.547 ), ( 0, -102.295, 0 ) );
    var_0[143] = flag_set_role( ( 48747.6, -12179.9, 14.8108 ), ( 0, -111.192, 0 ), 1 );
    var_0[144] = flag_set_role( ( 46453.4, -6647.04, 208.457 ), ( 0, -15.0621, 0 ), 1 );
    var_0[145] = flag_set_role( ( 12849.3, 34747.5, 2458.5 ), ( 0, -39.4017, 0 ), 1 );
    var_0[146] = flag_set_role( ( 52493.1, -17205.6, -391.658 ), ( 0, 19.0522, 0 ), 1 );
    var_0[147] = flag_set_role( ( 54470.9, -21095.7, -394.817 ), ( 0, -68.4661, 0 ) );
    var_0[148] = flag_set_role( ( -24417, 56523.2, 2659.76 ), ( 0, -129.922, 0 ), 1 );
    var_0[149] = flag_set_role( ( 37257.1, 13799.8, 232 ), ( 0, 22.0809, 0 ), 1 );
    var_0[150] = flag_set_role( ( 23294, 29633.7, 1019.7 ), ( 0, 17.9623, 0 ), 1 );
    var_0[151] = flag_set_role( ( -9892.05, 53353.9, 2428.22 ), ( 0, -25.4412, 0 ) );
    var_0[152] = flag_set_role( ( 49428.4, 1843.77, 19.9863 ), ( 0, 175.256, 0 ), 1 );
    var_0[153] = flag_set_role( ( 3411.24, 49881.5, 1032 ), ( 0, 83.1958, 0 ), 1 );
    var_0[154] = flag_set_role( ( 57090, -11008.2, -433.158 ), ( 0, -94.4655, 0 ), 1 );
    var_0[155] = flag_set_role( ( 20175.4, 39040, 957.372 ), ( 0, 82.8313, 0 ), 1 );
    var_0[156] = flag_set_role( ( -8255.86, 57148.3, 1071.37 ), ( 0, -11.2614, 0 ), 1 );
    var_0[157] = flag_set_role( ( 51848.1, 3726.24, 29.3418 ), ( 0, 172.199, 0 ), 1 );
    var_0[158] = flag_set_role( ( 50898.1, 6776.73, 29.7878 ), ( 0, -8.3196, 0 ), 1 );
    var_0[159] = flag_set_role( ( -17676, 62373.4, 1908.92 ), ( 0, -4.78614, 0 ) );
    var_0[160] = flag_set_role( ( 12324.8, 47493.6, 1036 ), ( 0, -44.8196, 0 ), 1 );
    var_0[161] = flag_set_role( ( 29716.1, 34472.4, 435.436 ), ( 0, -133.228, 0 ), 1 );
    var_0[162] = flag_set_role( ( 37269.7, 27514, 190.688 ), ( 0, -36.7275, 0 ), 1 );
    var_0[163] = flag_set_role( ( 46679.8, 17932.4, -352.184 ), ( 0, 157.463, 0 ), 1 );
    var_0[164] = flag_set_role( ( 53649.7, 7546.33, 29.3552 ), ( 0, -107.59, 0 ), 1 );
    var_0[165] = flag_set_role( ( 57918.4, 650.832, 41.0137 ), ( 0, 106.07, 0 ), 1 );
    var_0[166] = flag_set_role( ( 7073.74, 57285.5, 1036 ), ( 0, 164.547, 0 ), 1 );
    var_0[167] = flag_set_role( ( 27957.2, 43805.1, 1753.23 ), ( 0, -142.754, 0 ), 1 );
    var_0[168] = flag_set_role( ( 20050.9, 52735.7, 1917.76 ), ( 0, 137.974, 0 ), 1 );
    var_0[169] = flag_set_role( ( 43887.3, 31928.7, -198.527 ), ( 0, -93.8224, 0 ), 1 );
    var_0[170] = flag_set_role( ( 44717.5, 39263.5, -42.8776 ), ( 0, -102.018, 0 ), 1 );
    var_0[171] = flag_set_role( ( 37958.5, 47398, 944.177 ), ( 0, -119.853, 0 ), 1 );
    return var_0;
}

spawn_guys_at_lz()
{
    var_0 = [];
    var_0[0] = flag_set_role( ( -35516, -26964, -290.492 ), ( 0, -37.2493, 0 ), 1 );
    var_0[1] = flag_set_role( ( -24507.4, -31751.5, -118 ), ( 0, 24.7373, 0 ), 1 );
    var_0[2] = flag_set_role( ( -18335, -38528, 1426 ), ( 0, 21.3294, 0 ), 1 );
    var_0[3] = flag_set_role( ( -22962.6, -26693.8, -133.431 ), ( 0, -79.9927, 0 ), 1 );
    var_0[4] = flag_set_role( ( -21665.5, -27275.8, -148.989 ), ( 0, -36.6941, 0 ), 1 );
    var_0[5] = flag_set_role( ( -21726, -25961.2, -146 ), ( 0, -108.126, 0 ), 1 );
    var_0[6] = flag_set_role( ( -17034.3, -31571.8, 264.201 ), ( 0, -174.161, 0 ), 1 );
    var_0[7] = flag_set_role( ( -36409.6, -14177.9, -286.708 ), ( 0, -15.7255, 0 ), 1 );
    var_0[8] = flag_set_role( ( -30525.8, -17654.2, -234.947 ), ( 0, -127.959, 0 ), 1 );
    var_0[9] = flag_set_role( ( -28797.3, -17400, -241.606 ), ( 0, 16.8587, 0 ), 1 );
    var_0[10] = flag_set_role( ( -18155.4, -27275.3, -224.811 ), ( 0, -121.999, 0 ), 1 );
    var_0[11] = flag_set_role( ( -10441.3, -39384.6, 348.396 ), ( 0, -75.0314, 0 ) );
    var_0[12] = flag_set_role( ( -29281.2, -13754.2, -145.391 ), ( 0, -11.8112, 0 ), 1 );
    var_0[13] = flag_set_role( ( -17821.6, -23448.4, -262 ), ( 0, 62.3774, 0 ), 1 );
    var_0[14] = flag_set_role( ( -18619.8, -20889.8, -257.189 ), ( 0, -71.9892, 0 ), 1 );
    var_0[15] = flag_set_role( ( -9256.33, -33580.9, 158.984 ), ( 0, 146.051, 0 ), 1 );
    var_0[16] = flag_set_role( ( -8492.02, -34971.8, 166.312 ), ( 0, 161.494, 0 ), 1 );
    var_0[17] = flag_set_role( ( -14337.1, -25432.4, -288.003 ), ( 0, 18.2365, 0 ) );
    var_0[18] = flag_set_role( ( -16599, -22468.6, -278.939 ), ( 0, 154.273, 0 ), 1 );
    var_0[19] = flag_set_role( ( -11999.8, -28038.4, -31.998 ), ( 0, 5.45263, 0 ), 1 );
    var_0[20] = flag_set_role( ( -32056.9, -9169.36, -306.919 ), ( 0, 71.9528, 0 ), 1 );
    var_0[21] = flag_set_role( ( -23530.6, -14806.7, -69.1128 ), ( 0, -153.028, 0 ), 1 );
    var_0[22] = flag_set_role( ( -27480.3, -10672.5, -69.3776 ), ( 0, -3.16859, 0 ), 1 );
    var_0[23] = flag_set_role( ( -4660.23, -38889.8, 608.219 ), ( 0, 63.5175, 0 ), 1 );
    var_0[24] = flag_set_role( ( -10475.2, -27452, -31.9999 ), ( 0, 118.642, 0 ), 1 );
    var_0[25] = flag_set_role( ( -20693.1, -15175.3, -304 ), ( 0, -66.6904, 0 ), 1 );
    var_0[26] = flag_set_role( ( -16776.3, -18894, -338.316 ), ( 0, -15.0922, 0 ), 1 );
    var_0[27] = flag_set_role( ( -13668.5, -18519.2, -368 ), ( 0, -143.119, 0 ), 1 );
    var_0[28] = flag_set_role( ( -22473.8, -10149.8, -301.138 ), ( 0, -70.3961, 0 ), 1 );
    var_0[29] = flag_set_role( ( -11184.8, -21061.9, -315.854 ), ( 0, 5.70909, 0 ), 1 );
    var_0[30] = flag_set_role( ( -26223.1, -7239.33, 36.2852 ), ( 0, -142.791, 0 ) );
    var_0[31] = flag_set_role( ( -30018.7, -4590.08, -316.327 ), ( 0, 23.8697, 0 ), 1 );
    var_0[32] = flag_set_role( ( -4140.38, -30726.9, 278.381 ), ( 0, -144.114, 0 ), 1 );
    var_0[33] = flag_set_role( ( -34822.4, -1184.25, -263.947 ), ( 0, -71.6069, 0 ), 1 );
    var_0[34] = flag_set_role( ( -30043.8, -1902.43, -313.225 ), ( 0, 175.937, 0 ), 1 );
    var_0[35] = flag_set_role( ( -26229.5, -4015.4, -313.889 ), ( 0, -117.77, 0 ), 1 );
    var_0[36] = flag_set_role( ( -27619.2, -2302.54, -313.891 ), ( 0, -8.77301, 0 ), 1 );
    var_0[37] = flag_set_role( ( -7118.65, -19301.2, -144 ), ( 0, -5.73525, 0 ), 1 );
    var_0[38] = flag_set_role( ( -10491.1, -14985.5, -360 ), ( 0, -103.058, 0 ), 1 );
    var_0[39] = flag_set_role( ( -14483.6, -10859.1, -315.39 ), ( 0, 7.08201, 0 ), 1 );
    var_0[40] = flag_set_role( ( -23169, -3966.54, -321.134 ), ( 0, -83.3339, 0 ), 1 );
    var_0[41] = flag_set_role( ( -8787.73, -15589.1, -367.949 ), ( 0, 100.158, 0 ), 1 );
    var_0[42] = flag_set_role( ( -817.503, -25527.6, -256.485 ), ( 0, -66.9498, 0 ), 1 );
    var_0[43] = flag_set_role( ( -14242.2, -8993.57, -285.128 ), ( 0, 40.3822, 0 ), 1 );
    var_0[44] = flag_set_role( ( 4555.72, -36115.3, -200.848 ), ( 0, -156.66, 0 ), 1 );
    var_0[45] = flag_set_role( ( 1627.87, -28799.2, 312 ), ( 0, 150.838, 0 ), 1 );
    var_0[46] = flag_set_role( ( -9101.03, -10035.7, -320 ), ( 0, 33.7296, 0 ), 1 );
    var_0[47] = flag_set_role( ( -6042.41, -13135.6, -363.999 ), ( 0, -134.727, 0 ), 1 );
    var_0[48] = flag_set_role( ( 3185.75, -25611.3, -288.702 ), ( 0, 93.1862, 0 ), 1 );
    var_0[49] = flag_set_role( ( 1792.7, -23147, -290.615 ), ( 0, -151.835, 0 ), 1 );
    var_0[50] = flag_set_role( ( -35463.8, 7869.36, 52.9549 ), ( 0, -93.1204, 0 ), 1 );
    var_0[51] = flag_set_role( ( -716.066, -18775.2, 934 ), ( 0, -148.79, 0 ), 1 );
    var_0[52] = flag_set_role( ( 1588.6, -20401.1, -285 ), ( 0, -58.1805, 0 ), 1 );
    var_0[53] = flag_set_role( ( 12452, -35755.6, -484 ), ( 0, -28.7822, 0 ), 1 );
    var_0[54] = flag_set_role( ( 4648.29, -19224.9, -286.002 ), ( 0, 28.824, 0 ), 1 );
    var_0[55] = flag_set_role( ( -21706.1, 6555.31, -279.84 ), ( 0, 5.8398, 0 ), 1 );
    var_0[56] = flag_set_role( ( -16018.1, 4086.84, -318.486 ), ( 0, 3.79374, 0 ), 1 );
    var_0[57] = flag_set_role( ( -25374.2, 10918.1, -320 ), ( 0, 120.887, 0 ), 1 );
    var_0[58] = flag_set_role( ( -12119.8, 2981.18, -329.815 ), ( 0, 105.554, 0 ), 1 );
    var_0[59] = flag_set_role( ( -14767.3, 5096.92, -400.009 ), ( 0, 131.701, 0 ), 1 );
    var_0[60] = flag_set_role( ( 8177.97, -19326, -286.002 ), ( 0, 91.7841, 0 ), 1 );
    var_0[61] = flag_set_role( ( 15726.9, -35325.4, 318.345 ), ( 0, 151.377, 0 ), 1 );
    var_0[62] = flag_set_role( ( 11454.7, -22581.5, -214.023 ), ( 0, -92.045, 0 ), 1 );
    var_0[63] = flag_set_role( ( -20678.1, 11742.1, -320.114 ), ( 0, -174.747, 0 ), 1 );
    var_0[64] = flag_set_role( ( -7293.09, 3009.49, -317.508 ), ( 0, -152.562, 0 ), 1 );
    var_0[65] = flag_set_role( ( 17629.6, -32800.1, 15.9988 ), ( 0, 7.32444, 0 ), 1 );
    var_0[66] = flag_set_role( ( 504.818, -3834.63, -449 ), ( 0, 66.6309, 0 ), 1 );
    var_0[67] = flag_set_role( ( -25415.2, 15191.1, -325.003 ), ( 0, -84.1954, 0 ), 1 );
    var_0[68] = flag_set_role( ( 13957.3, -21816.1, -194 ), ( 0, -75.6819, 0 ), 1 );
    var_0[69] = flag_set_role( ( -10176, 6713.5, -400 ), ( 0, 75.3382, 0 ), 1 );
    var_0[70] = flag_set_role( ( -15327.9, 10742.1, -400 ), ( 0, 32.2232, 0 ), 1 );
    var_0[71] = flag_set_role( ( 8420.99, -11753.6, 306 ), ( 0, 83.4712, 0 ), 1 );
    var_0[72] = flag_set_role( ( -22216, 14718, -64.0002 ), ( 0, -82.0633, 0 ), 1 );
    var_0[73] = flag_set_role( ( -17022, 11976.4, -322.43 ), ( 0, 105.663, 0 ), 1 );
    var_0[74] = flag_set_role( ( -30924.8, 19829.7, 205 ), ( 0, -69.3892, 0 ), 1 );
    var_0[75] = flag_set_role( ( -2024.99, 3060.21, -330.017 ), ( 0, -158.048, 0 ), 1 );
    var_0[76] = flag_set_role( ( -12771.2, 11772.2, -326.973 ), ( 0, 19.9583, 0 ), 1 );
    var_0[77] = flag_set_role( ( -22206.3, 18001.4, 688.005 ), ( 0, 140.553, 0 ), 1 );
    var_0[78] = flag_set_role( ( 22131, -32223, -440 ), ( 0, 119.727, 0 ), 1 );
    var_0[79] = flag_set_role( ( -3427.7, 6818.88, -323.004 ), ( 0, 133.054, 0 ), 1 );
    var_0[80] = flag_set_role( ( -25425.5, 20658.8, -448 ), ( 0, 0.274191, 0 ), 1 );
    var_0[81] = flag_set_role( ( 23625.3, -31238.1, -563.054 ), ( 0, -52.2092, 0 ), 1 );
    var_0[82] = flag_set_role( ( -33327.4, 24789.2, 12.4296 ), ( 0, -44.4776, 0 ), 1 );
    var_0[83] = flag_set_role( ( 21118.3, -22709.8, -232 ), ( 0, 42.769, 0 ), 1 );
    var_0[84] = flag_set_role( ( -28418.1, 23715.5, -447.994 ), ( 0, -89.5397, 0 ), 1 );
    var_0[85] = flag_set_role( ( 16769.7, -13392.7, 356.076 ), ( 0, -37.8018, 0 ), 1 );
    var_0[86] = flag_set_role( ( -13952.5, 17259.8, -324 ), ( 0, -76.2444, 0 ), 1 );
    var_0[87] = flag_set_role( ( 24205.4, -25029.5, -328.008 ), ( 0, 169.376, 0 ), 1 );
    var_0[88] = flag_set_role( ( 11918.5, -3474.79, -347.198 ), ( 0, 336.788, 0 ) );
    var_0[89] = flag_set_role( ( -17899.8, 21527.3, -450.34 ), ( 0, -8.05977, 0 ), 1 );
    var_0[90] = flag_set_role( ( 22217.9, -18422.9, 632 ), ( 0, 162.28, 0 ), 1 );
    var_0[91] = flag_set_role( ( 20216.9, -14855.9, 4440 ), ( 0, -105.534, 0 ) );
    var_0[92] = flag_set_role( ( -2832.02, 13488.4, -319.985 ), ( 0, -0.230498, 0 ), 1 );
    var_0[93] = flag_set_role( ( 3266.46, 9488.52, -317.067 ), ( 0, 97.6153, 0 ), 1 );
    var_0[94] = flag_set_role( ( 22117.5, -13790.4, 256.102 ), ( 0, 135.758, 0 ), 1 );
    var_0[95] = flag_set_role( ( 24850.9, -18555.2, -208.2 ), ( 0, -76.8969, 0 ), 1 );
    var_0[96] = flag_set_role( ( -23053.6, 27499.5, -460.201 ), ( 0, 83.541, 0 ), 1 );
    var_0[97] = flag_set_role( ( -8326.54, 20049.9, -257.261 ), ( 0, 110.381, 0 ), 1 );
    var_0[98] = flag_set_role( ( 19238.7, -6573.38, -40 ), ( 0, -88.569, 0 ), 1 );
    var_0[99] = flag_set_role( ( -36685.3, 33440.3, 1474.01 ), ( 0, -73.7051, 0 ), 1 );
    var_0[100] = flag_set_role( ( 26569.7, -16938.2, -221.571 ), ( 0, 92.2376, 0 ), 1 );
    var_0[101] = flag_set_role( ( 26412.2, -13112.5, -264 ), ( 0, 55.7859, 0 ), 1 );
    var_0[102] = flag_set_role( ( 20248.8, -2154.65, -506.989 ), ( 0, 116.839, 0 ), 1 );
    var_0[103] = flag_set_role( ( -6577.92, 23388.3, -448.004 ), ( 0, -101.867, 0 ), 1 );
    var_0[104] = flag_set_role( ( 18069.7, 1558.6, -590.448 ), ( 0, -85.7224, 0 ), 1 );
    var_0[105] = flag_set_role( ( 33871.9, -25305.2, -566 ), ( 0, -31.8678, 0 ) );
    var_0[106] = flag_set_role( ( -2919.92, 22409.8, -446.75 ), ( 0, -78.7055, 0 ), 1 );
    var_0[107] = flag_set_role( ( -16866.8, 30593, -225.8 ), ( 0, -75.0401, 0 ), 1 );
    var_0[108] = flag_set_role( ( 37954.1, -37722.9, -577.993 ), ( 0, 69.8195, 0 ), 1 );
    var_0[109] = flag_set_role( ( -10855.2, 28227.9, -286 ), ( 0, 148.092, 0 ), 1 );
    var_0[110] = flag_set_role( ( 6617.88, 17297.6, -289.993 ), ( 0, -64.9318, 0 ) );
    var_0[111] = flag_set_role( ( 16187.4, 8712.66, -332.163 ), ( 0, -84.2018, 0 ), 1 );
    var_0[112] = flag_set_role( ( -14068.2, 31959.7, -250.623 ), ( 0, -153.916, 0 ), 1 );
    var_0[113] = flag_set_role( ( 29348.7, -8361.65, -424.006 ), ( 0, -81.6393, 0 ), 1 );
    var_0[114] = flag_set_role( ( 35020.4, -16139.2, -572.017 ), ( 0, 58.7604, 0 ), 1 );
    var_0[115] = flag_set_role( ( 19630.8, 10158.6, -451.09 ), ( 0, -142.492, 0 ), 1 );
    var_0[116] = flag_set_role( ( 43465.3, -36148.1, 51.093 ), ( 0, 112.905, 0 ), 1 );
    var_0[117] = flag_set_role( ( -19560, 39017.6, -640 ), ( 0, 105.902, 0 ), 1 );
    var_0[118] = flag_set_role( ( 3395.98, 28640.1, 1.42773 ), ( 0, 135.948, 0 ), 1 );
    var_0[119] = flag_set_role( ( -12456.8, 38252.8, 0.642883 ), ( 0, 136.198, 0 ), 1 );
    var_0[120] = flag_set_role( ( 30374.5, 1918, -584 ), ( 0, 240.147, 0 ), 1 );
    var_0[121] = flag_set_role( ( 34810.3, -3657.19, -488 ), ( 0, -139.433, 0 ), 1 );
    var_0[122] = flag_set_role( ( 48307, -38482.1, 2272 ), ( 0, 54.6218, 0 ), 1 );
    var_0[123] = flag_set_role( ( 17534.5, 19736.7, 318.301 ), ( 0, -103.234, 0 ), 1 );
    var_0[124] = flag_set_role( ( 49054.6, -37186.3, 2272.02 ), ( 0, 62.8379, 0 ), 1 );
    var_0[125] = flag_set_role( ( -26149.3, 47192.9, 2703.16 ), ( 0, 36.4515, 0 ), 1 );
    var_0[126] = flag_set_role( ( 50932.9, -41318, 1347 ), ( 0, -109.525, 0 ), 1 );
    var_0[127] = flag_set_role( ( -27964, 48715, 2554 ), ( 0, 116.668, 0 ) );
    var_0[128] = flag_set_role( ( 44159.8, -13820.7, -87.1293 ), ( 0, -7.88874, 0 ), 1 );
    var_0[129] = flag_set_role( ( 51090.6, -34587.3, 1343.9 ), ( 0, -9.93786, 0 ), 1 );
    var_0[130] = flag_set_role( ( 32681, 7595.22, -497.554 ), ( 0, -48.5794, 0 ), 1 );
    var_0[131] = flag_set_role( ( 35392.5, 3953.92, -537.668 ), ( 0, -23.8152, 0 ), 1 );
    var_0[132] = flag_set_role( ( 52357.4, -33339, 1258.09 ), ( 0, -20.541, 0 ), 1 );
    var_0[133] = flag_set_role( ( 45354.6, -11966.6, -80.277 ), ( 0, -151.105, 0 ), 1 );
    var_0[134] = flag_set_role( ( -520.246, 39710.8, 2783 ), ( 0, -72.5011, 0 ), 1 );
    var_0[135] = flag_set_role( ( 50376.7, -21886.4, -395.252 ), ( 0, -23.787, 0 ), 1 );
    var_0[136] = flag_set_role( ( 51570.2, -24783.1, -113.531 ), ( 0, 104.684, 0 ), 1 );
    var_0[137] = flag_set_role( ( 39824, 1114.83, -424.993 ), ( 0, 138.361, 0 ), 1 );
    var_0[138] = flag_set_role( ( 52294.1, -25802.7, -83.0376 ), ( 0, -19.67, 0 ), 1 );
    var_0[139] = flag_set_role( ( 44324.8, -4273.61, 263.415 ), ( 0, -177.943, 0 ) );
    var_0[140] = flag_set_role( ( 46453.4, -6647.04, 208.457 ), ( 0, -15.0621, 0 ), 1 );
    var_0[141] = flag_set_role( ( 49114.5, -11366.7, 9.90356 ), ( 0, 70.9343, 0 ) );
    var_0[142] = flag_set_role( ( 12849.3, 34747.5, 2458.5 ), ( 0, -39.4017, 0 ), 1 );
    var_0[143] = flag_set_role( ( -24761.1, 54243.7, 2632.83 ), ( 0, -110.996, 0 ) );
    var_0[144] = flag_set_role( ( 52493.1, -17205.6, -391.658 ), ( 0, 19.0522, 0 ), 1 );
    var_0[145] = flag_set_role( ( 54022.2, -21039.7, -397.627 ), ( 0, -67.3496, 0 ) );
    var_0[146] = flag_set_role( ( -24417, 56523.2, 2659.76 ), ( 0, -129.922, 0 ), 1 );
    var_0[147] = flag_set_role( ( 37257.1, 13799.8, 232 ), ( 0, 22.0809, 0 ), 1 );
    var_0[148] = flag_set_role( ( 23294, 29633.7, 1027.7 ), ( 0, 17.9623, 0 ), 1 );
    var_0[149] = flag_set_role( ( -9892.05, 53353.9, 2428.22 ), ( 0, -25.4412, 0 ), 1 );
    var_0[150] = flag_set_role( ( 49428.4, 1843.77, 19.9863 ), ( 0, 175.256, 0 ), 1 );
    var_0[151] = flag_set_role( ( 3411.24, 49881.5, 1032 ), ( 0, 83.1958, 0 ), 1 );
    var_0[152] = flag_set_role( ( 57090, -11008.2, -433.158 ), ( 0, -94.4655, 0 ), 1 );
    var_0[153] = flag_set_role( ( 20175.4, 39040, 957.372 ), ( 0, 82.8313, 0 ), 1 );
    var_0[154] = flag_set_role( ( -8255.86, 57148.3, 1071.37 ), ( 0, -11.2614, 0 ), 1 );
    var_0[155] = flag_set_role( ( 51848.1, 3726.24, 29.3418 ), ( 0, 172.199, 0 ), 1 );
    var_0[156] = flag_set_role( ( 50898.1, 6776.73, 29.7878 ), ( 0, -8.3196, 0 ), 1 );
    var_0[157] = flag_set_role( ( -17676, 62373.4, 1908.92 ), ( 0, -4.78614, 0 ), 1 );
    var_0[158] = flag_set_role( ( 12324.8, 47493.6, 1036 ), ( 0, -44.8196, 0 ), 1 );
    var_0[159] = flag_set_role( ( 29716.1, 34472.4, 587.436 ), ( 0, -133.228, 0 ), 1 );
    var_0[160] = flag_set_role( ( 37269.7, 27514, 190.688 ), ( 0, -36.7275, 0 ), 1 );
    var_0[161] = flag_set_role( ( 46679.8, 17932.4, -352.184 ), ( 0, 157.463, 0 ), 1 );
    var_0[162] = flag_set_role( ( 53649.7, 7546.33, 29.3552 ), ( 0, -107.59, 0 ), 1 );
    var_0[163] = flag_set_role( ( 32652.2, 34860.1, 587.138 ), ( 0, -18.5619, 0 ) );
    var_0[164] = flag_set_role( ( 57918.4, 650.832, 41.0137 ), ( 0, 106.07, 0 ), 1 );
    var_0[165] = flag_set_role( ( 7073.74, 57285.5, 1036 ), ( 0, 164.547, 0 ), 1 );
    var_0[166] = flag_set_role( ( 28049.2, 43607.1, 1769.23 ), ( 0, -142.754, 0 ), 1 );
    var_0[167] = flag_set_role( ( 20050.9, 52735.7, 1917.76 ), ( 0, 137.974, 0 ), 1 );
    var_0[168] = flag_set_role( ( 43887.3, 31928.7, -198.527 ), ( 0, -93.8224, 0 ), 1 );
    var_0[169] = flag_set_role( ( 38241.2, 38003.4, 555.227 ), ( 0, -33.0121, 0 ) );
    return var_0;
}

spawn_module_building_chopper2()
{
    var_0 = [];
    var_0[1] = flag_set_role( ( 6724, -9417, 2069 ), ( 7, 280, 0 ), 1 );
    return var_0;
}

spawn_fx_on_node()
{
    var_0 = [];
    var_0[var_0.size] = flag_set_role( ( 29786.7, 41132.6, 749.673 ), ( 0, -132.937, 0 ) );
    var_0[var_0.size] = flag_set_role( ( 31330.7, 43775.2, 685 ), ( 0, -111.923, 0 ) );
    var_0[var_0.size] = flag_set_role( ( 37671.1, 42532.2, 857.039 ), ( 0, -169.422, 0 ) );
    var_0[var_0.size] = flag_set_role( ( 40311.2, 44060.2, 1326.98 ), ( 0, 169.247, 0 ) );
    return var_0;
}

spawn_fulton_rope_mdl()
{
    var_0 = [];
    var_0[0] = flag_set_role( ( -3899, 2190, 693 ), ( 0, 159, 0 ) );
    var_0[1] = flag_set_role( ( -786, -11590, 184 ), ( 0, 0, 0 ) );
    var_0[2] = flag_set_role( ( 1548, -5824, 698 ), ( 0, 235, 0 ) );
    var_0[3] = flag_set_role( ( 5215, -3926, 144 ), ( 0, 270, 0 ) );
    var_0[4] = flag_set_role( ( -4054, -2949, 628 ), ( 0, 270, 0 ) );
    var_0[5] = flag_set_role( ( 848, -2529, 1360 ), ( 0, 270, 0 ) );
    var_0[6] = flag_set_role( ( -32, 84, 1760 ), ( 0, 50, 0 ) );
    var_0[7] = flag_set_role( ( 3660, 2998, 192 ), ( 0, 30, 0 ) );
    var_0[8] = flag_set_role( ( -1234, 3890, 1072 ), ( 0, 90, 0 ) );
    var_0[9] = flag_set_role( ( 1154, 3796, 949 ), ( 0, 320, 0 ) );
    var_0[10] = flag_set_role( ( -4967, 4679, 616 ), ( 0, 90, 0 ) );
    var_0[11] = flag_set_role( ( -2274, 6468, 880 ), ( 0, 130, 0 ) );
    var_0[12] = flag_set_role( ( -1398, 10000, 656 ), ( 0, 45, 0 ) );
    var_0[13] = flag_set_role( ( 1756, 9261, 664 ), ( 0, 95, 0 ) );
    var_0[14] = flag_set_role( ( 489, 7480, 837 ), ( 0, 285, 0 ) );
    var_0[15] = flag_set_role( ( -1448, -2097, 1262 ), ( 0, 181, 0 ) );
    var_0[16] = flag_set_role( ( -4485, 5703, 152 ), ( 0, 200, 0 ) );
    return var_0;
}

flag_set_role( var_0, var_1, var_2 )
{
    var_3 = spawnstruct();
    var_3.origin = var_0;
    var_3.angles = var_1;
    return var_3;
}

#using_animtree("script_model");

findgunsmithattachments()
{
    var_0 = spawn( "script_model", self.origin );
    var_0 setmodel( "tag_origin" );
    var_0 useanimtree( #animtree );
    var_0.animname = "endingCam";
    return var_0;
}

hunters_killed_by_targets( var_0 )
{
    self notify( "ending_fade_in" );
    self endon( "ending_fade_in" );
    self endon( "disconnect" );
    var_1 = var_0 * 20;
    var_2 = 1;
    var_3 = 1.0 / var_1;
    self setclientomnvar( "ui_world_fade", var_2 );

    for ( var_4 = 0; var_4 < var_1; var_4++ )
    {
        waitframe();
        var_2 = var_2 - var_3;
        var_2 = max( var_2, 0 );
        self setclientomnvar( "ui_world_fade", var_2 );
    }
}

hunterswonending( var_0 )
{
    self notify( "ending_fade_out" );
    self endon( "ending_fade_out" );
    self endon( "disconnect" );
    var_1 = var_0 * 20;
    var_2 = 0;
    var_3 = 1.0 / var_1;
    self setclientomnvar( "ui_world_fade", var_2 );

    for ( var_4 = 0; var_4 < var_1; var_4++ )
    {
        waitframe();
        var_2 = var_2 + var_3;
        var_2 = min( var_2, 1 );
        self setclientomnvar( "ui_world_fade", var_2 );
    }
}

create_player_rig( var_0, var_1, var_2, var_3 )
{
    self.animname = var_0;

    if ( !isdefined( var_2 ) )
        var_2 = ( 0, 0, 0 );

    var_4 = spawn( "script_model", var_2 );
    var_4.player = self;
    self.player_rig = var_4;
    self.player_rig setmodel( var_1 );
    self.player_rig hide();
    self.player_rig.animname = var_0;
    self.player_rig useanimtree( #animtree );
    self.player_rig._id_13018 = self._id_13018;
    self.player_rig.cinematic_motion_override = scripts\mp\utility\infilexfil::handlecinematicmotionnotetrack;
    self.player_rig.dof_func = scripts\mp\utility\infilexfil::handledofnotetrack;

    if ( !isdefined( level.checkpoint_name.tv_station_fastrope_one_infil_start_targetname_array ) )
        level.checkpoint_name.tv_station_fastrope_one_infil_start_targetname_array = [];

    if ( isplayer( self ) )
    {
        self playerlinktodelta( self.player_rig, "tag_player", 1.0, 0, 0, 0, 0, 1 );
        level.checkpoint_name.tv_station_fastrope_one_infil_start_targetname_array[level.checkpoint_name.tv_station_fastrope_one_infil_start_targetname_array.size] = self.player_rig;
    }
    else
        self.player_rig._id_13018 = 0;

    self notify( "rig_created" );
}

remove_player_rig()
{
    if ( isdefined( self ) )
        self unlink();

    if ( isdefined( self.player_rig ) )
        self.player_rig delete();
}

get_center_of_array( var_0 )
{
    var_1 = ( 0, 0, 0 );

    for ( var_2 = 0; var_2 < var_0.size; var_2++ )
        var_1 = ( var_1[0] + var_0[var_2].origin[0], var_1[1] + var_0[var_2].origin[1], var_1[2] + var_0[var_2].origin[2] );

    if ( var_0.size != 0 )
        return ( var_1[0] / var_0.size, var_1[1] / var_0.size, var_1[2] / var_0.size );

    return undefined;
}

drop_in_progress( var_0 )
{
    thread drone_turret_canseetarget( 5, var_0 );

    if ( !getdvarint( "scr_br_ending_placement" ) )
    {
        self._id_12858 = lastmovingplatform();
        unloadinfiltransient( self._id_12858 );
        setomnvarforallclients( "ui_br_end_game_splash_type", 18 );
        var_1 = getdvarfloat( "scr_br_end_transient_wait", 6.0 );
        wait( var_1 );
    }

    var_2 = _id_1224B( "veh8_mil_air_blima_scriptmodel" );
    var_2 hidepart( "tag_main_rotor_blade_01" );
    var_2 hidepart( "tag_main_rotor_blade_02" );
    var_2 hidepart( "tag_main_rotor_blade_03" );
    var_2 hidepart( "tag_main_rotor_blade_04" );
    var_2 hidepart( "tag_tail_rotor_blade_01" );
    var_2 hidepart( "tag_tail_rotor_blade_02" );
    var_2 hidepart( "tag_tail_rotor_blade_03" );
    var_2 hidepart( "tag_tail_rotor_blade_04" );
    self.init_relic_shieldsonly = var_2;
    drop_intel_on_death_regardless();
    var_3 = [ "head_mp_helicopter_crew", "j_spine4" ];
    var_4 = [ var_3 ];
    var_5 = "body_pilot_helicopter_british";
    var_6 = _id_1224B( var_5, undefined, var_4 );
    self._id_11B7D = var_6;
    self.winners = scripts\engine\utility::array_removeundefined( self.winners );

    if ( self.winners.size == 0 )
        finishreviveplayer( self );

    thread scripts\mp\gametypes\br_gametypes.gsc::_id_11BE4( "exfilStart", self.winners );
    var_7 = _id_1224B( "equipment_fast_rope_wm_01_infil_heli_l" );
    self.rope = var_7;
    self.debug_show2dvotext = findgunsmithattachments();
    var_8 = [];
    var_8[0] = _id_1224B( "misc_wm_ascender", "misc_wm_ascender0" );

    if ( self.winners.size > 1 )
        var_8[1] = _id_1224B( "misc_wm_ascender", "misc_wm_ascender1" );

    if ( self.winners.size > 2 )
        var_8[2] = _id_1224B( "misc_wm_ascender", "misc_wm_ascender2" );

    if ( self.winners.size > 3 )
        var_8[3] = _id_1224B( "misc_wm_ascender", "misc_wm_ascender3" );

    self.bot_modify_behavior_from_tweakables = var_8;
    self.target_waves = [];
    var_9 = 0;
    self.target_waves[var_9] = findavailableteam( "scene1" );
    self.target_waves[var_9] allowleaderboardstatsupdates( [], ::drop_jugg_suit_on_death );
    self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh010 );
    self.target_waves[var_9] allowednormaldemeanor( var_6, %br_exfil_co_sh010 );
    self.target_waves[var_9] allowednormaldemeanor( var_7, %br_exfil_rope_sh010 );
    self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh010 );
    self.target_waves[var_9] allowed_objectives( "chopperExfil_gas", self.origin, self.angles );
    var_9++;
    self.target_waves[var_9] = findavailableteam( "scene2" );
    self.target_waves[var_9] allowleaderboardstatsupdates( self.winners, ::drop_locations );
    self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh020 );

    if ( !isdefined( level.scr_notetrack["veh8_mil_air_blima_scriptmodel"] ) || !isdefined( level.scr_notetrack["veh8_mil_air_blima_scriptmodel"]["any"]["guy0_aboard"] ) )
    {
        scripts\common\anim::addnotetrack_customfunction( "veh8_mil_air_blima_scriptmodel", "guy0_aboard", ::drop_scavenger_bag );
        scripts\common\anim::addnotetrack_customfunction( "veh8_mil_air_blima_scriptmodel", "guy1_aboard", ::drop_structs );
        scripts\common\anim::addnotetrack_customfunction( "veh8_mil_air_blima_scriptmodel", "guy2_aboard", ::drop_support_crate_intro );
        scripts\common\anim::addnotetrack_customfunction( "veh8_mil_air_blima_scriptmodel", "slamtoblack", ::drop_support_crates );
    }

    self.target_waves[var_9] allowednormaldemeanor( var_6, %br_exfil_pilot_sh020 );
    self.target_waves[var_9] allowednormaldemeanor( var_7, %br_exfil_rope_sh020 );
    self.target_waves[var_9] allowednormaldemeanor( var_8[0], %br_exfil_ascender0_sh020 );

    if ( self.winners.size > 1 )
        self.target_waves[var_9] allowednormaldemeanor( var_8[1], %br_exfil_ascender1_sh020 );

    if ( self.winners.size > 2 )
        self.target_waves[var_9] allowednormaldemeanor( var_8[2], %br_exfil_ascender2_sh020 );

    if ( self.winners.size > 3 )
        self.target_waves[var_9] allowednormaldemeanor( var_8[3], %br_exfil_ascender3_sh020 );

    self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh020, %br_exfil_guy0_sh020_fem );
    self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh020, %br_exfil_guy1_sh020_fem );
    self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh020, %br_exfil_guy2_sh020_fem );
    self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh020, %br_exfil_guy3_sh020_fem );
    self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh020 );
    var_9++;
    self.target_waves[var_9] = findavailableteam( "scene2.5" );
    self.target_waves[var_9] allowleaderboardstatsupdates( self.winners, ::drop_max );
    self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh025 );
    self.target_waves[var_9] allowednormaldemeanor( var_6, %br_exfil_pilot_sh025 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh025 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh025 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh025 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh025 );
    self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh025 );
    var_9++;
    self.target_waves[var_9] = findavailableteam( "scene3" );
    self.target_waves[var_9] allowleaderboardstatsupdates( self.winners, ::drop_minigun );
    self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh030 );
    self.target_waves[var_9] allowednormaldemeanor( var_6, %br_exfil_pilot_sh030 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh030, %br_exfil_guy0_sh030_fem, %br_exfil_guy0_sh030_jugg );
    self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh030, %br_exfil_guy1_sh030_fem, %br_exfil_guy1_sh040_jugg );
    self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh030, %br_exfil_guy2_sh030_fem, %br_exfil_guy2_sh050_jugg );
    self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh030, %br_exfil_guy3_sh030_fem, %br_exfil_guy3_sh060_jugg );
    self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh030 );

    if ( self.winners.size >= 2 )
    {
        var_9++;
        self.target_waves[var_9] = findavailableteam( "scene4" );
        self.target_waves[var_9] allowleaderboardstatsupdates( [ var_6 ], ::drop_new_carepackage );
        self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh040 );
        self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh040, %br_exfil_guy0_sh040_fem, %br_exfil_guy0_sh030_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh040, %br_exfil_guy1_sh040_fem, %br_exfil_guy1_sh040_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh040, %br_exfil_guy2_sh040_fem, %br_exfil_guy2_sh050_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh040, %br_exfil_guy3_sh040_fem, %br_exfil_guy3_sh060_jugg );
        self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh040 );
    }

    if ( self.winners.size >= 3 )
    {
        var_9++;
        self.target_waves[var_9] = findavailableteam( "scene5" );
        self.target_waves[var_9] allowleaderboardstatsupdates( [], ::drop_percent );
        self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh050 );
        self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh050, %br_exfil_guy0_sh050_fem, %br_exfil_guy0_sh030_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh050, %br_exfil_guy1_sh050_fem, %br_exfil_guy1_sh040_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh050, %br_exfil_guy2_sh050_fem, %br_exfil_guy2_sh050_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh050, %br_exfil_guy3_sh050_fem, %br_exfil_guy3_sh060_jugg );
        self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh050 );
    }

    if ( self.winners.size == 4 )
    {
        var_9++;
        self.target_waves[var_9] = findavailableteam( "scene6" );
        self.target_waves[var_9] allowleaderboardstatsupdates( [], ::drop_platform );
        self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh060 );
        self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh060, %br_exfil_guy0_sh060_fem, %br_exfil_guy0_sh030_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh060, %br_exfil_guy1_sh060_fem, %br_exfil_guy1_sh040_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh060, %br_exfil_guy2_sh060_fem, %br_exfil_guy2_sh050_jugg );
        self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh060, %br_exfil_guy3_sh060_fem, %br_exfil_guy3_sh060_jugg );
        self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh060 );
    }

    var_9++;
    self.target_waves[var_9] = findavailableteam( "scene7" );
    self.target_waves[var_9] allowleaderboardstatsupdates( [], ::drop_priorities );
    self.target_waves[var_9] allowednormaldemeanor( var_2, %br_exfil_blima_sh070 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[0], %br_exfil_guy0_sh070 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[1], %br_exfil_guy1_sh070 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[2], %br_exfil_guy2_sh070 );
    self.target_waves[var_9] allowfultondropondeath( self.winners[3], %br_exfil_guy3_sh070 );
    self.target_waves[var_9] allowattackfromexposednonode( %br_exfil_cam_sh070 );
}

lastmovingplatform()
{
    switch ( level.script )
    {
        case "mp_donetsk":
            return "mp_infil_br_donetsk_ending_chopper_tr";
        case "mp_donetsk2":
            return "mp_infil_br_donetsk2_ending_chopper_tr";
        case "mp_don3":
            return "mp_infil_br_don3_ending_chopper_tr";
        case "mp_br_quarry":
            return "mp_infil_br_quarry_ending_chopper_tr";
        case "mp_br_mechanics":
            return "mp_infil_br_mechanics_ending_chopper_tr";
        case "mp_kstenod":
            return "mp_infil_br_kstenod_ending_chopper_tr";
        case "mp_escape2":
            return "mp_infil_br_escape2_ending_chopper_tr";
        case "mp_escape2_pm":
            return "mp_infil_br_escape2_pm_ending_chopper_tr";
        case "mp_escape3":
            return "mp_infil_br_escape3_ending_chopper_tr";
        case "mp_don4":
            return "mp_infil_br_don4_ending_chopper_tr";
        case "mp_wz_island":
            return "mp_infil_br_don4_ending_chopper_tr";
    }

    return "";
}

drone_turret_canseetarget( var_0, var_1 )
{
    var_2 = self.origin + ( 0, 0, 1000 );
    var_3 = vectornormalize( var_2 - var_1 );
    var_4 = var_2 + var_3 * 3000;
    var_5 = spawn( "script_model", var_4 );
    var_5 playsound( "br_exfil_incoming_heli_lr" );
    var_5 moveto( var_2, var_0 );
    wait( var_0 );
    var_5 delete();
}

drone_turrets()
{
    if ( level.checkpoint_name.winners.size == 0 )
        return;

    var_0 = "mus_br_exfil_intro_3player_pm_intro";
    var_1 = "br_exfil_part1_3person_lr";

    if ( getdvarint( "seasonal_event_id_num", 0 ) == 6 )
    {
        var_0 = "mus_br_exfil_intro_1player_season9_intro";
        var_1 = "br_exfil_part1_3person_lr";

        switch ( level.checkpoint_name.winners.size )
        {
            case 1:
                var_0 = "mus_br_exfil_intro_1player_season9_intro";
                var_1 = "br_exfil_part1_1person_lr";
                break;
            case 2:
                var_0 = "mus_br_exfil_intro_2player_season9_intro";
                var_1 = "br_exfil_part1_2person_lr";
                break;
            case 3:
                var_0 = "mus_br_exfil_intro_3player_season9_intro";
                var_1 = "br_exfil_part1_3person_lr";
                break;
            case 4:
                var_0 = "mus_br_exfil_intro_4player_season9_intro";
                var_1 = "br_exfil_part1_4person_lr";
                break;
        }
    }
    else
    {
        var_0 = "mus_br_exfil_intro_3player_pm_intro";
        var_1 = "br_exfil_part1_3person_lr";

        switch ( level.checkpoint_name.winners.size )
        {
            case 1:
                var_0 = "mus_br_exfil_intro_1player_pm_intro";
                var_1 = "br_exfil_part1_1person_lr";
                break;
            case 2:
                var_0 = "mus_br_exfil_intro_2player_pm_intro";
                var_1 = "br_exfil_part1_2person_lr";
                break;
            case 3:
                var_0 = "mus_br_exfil_intro_3player_pm_intro";
                var_1 = "br_exfil_part1_3person_lr";
                break;
            case 4:
                var_0 = "mus_br_exfil_intro_4player_pm_intro";
                var_1 = "br_exfil_part1_4person_lr";
                break;
        }
    }

    foreach ( var_3 in level.players )
    {
        var_3 playlocalsound( var_1 );
        var_3 playlocalsound( var_0 );
    }

    waitframe();
    setmusicstate( "" );

    foreach ( var_3 in level.players )
        var_3 setsoundsubmix( "mp_br_exfil_fade", 4 );
}

drones_spawning()
{
    if ( level.checkpoint_name.winners.size == 0 )
        return;

    var_0 = "br_exfil_main_3player_pm";

    switch ( level.checkpoint_name.winners.size )
    {
        case 1:
            var_0 = "br_exfil_main_1player_pm";
            break;
        case 2:
            var_0 = "br_exfil_main_2player_pm";
            break;
        case 3:
            var_0 = "br_exfil_main_3player_pm";
            break;
        case 4:
            var_0 = "br_exfil_main_4player_pm";
            break;
    }

    setmusicstate( var_0 );
}

drop_jugg_crate( var_0 )
{
    if ( isdefined( var_0 ) )
        wait( var_0 );

    foreach ( var_2 in level.players )
        var_2 playlocalsound( "br_exfil_end_part_lr" );
}

drop_jugg_suit_on_death( var_0 )
{
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();
    thread drone_turrets();

    if ( !scripts\mp\gametypes\br_public.gsc::process_entities_inside_subway_car() )
        setomnvarforallclients( "ui_br_end_game_splash_type", 17 );

    if ( isdefined( level.checkpoint_next_fx ) )
    {
        level.checkpoint_name._id_11B7D show();

        foreach ( var_2 in level.players )
            var_2.player_rig unlink();
    }

    binoculars_onstatemarkedenter( 2.8, 200 );
}

drop_locations( var_0 )
{
    binoculars_onstatemarkedenter( 2.8, 250 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( isdefined( level.checkpoint_next_fx ) )
    {
        foreach ( var_2 in level.checkpoint_name.bot_modify_behavior_from_tweakables )
            var_2 show();
    }

    foreach ( var_5 in var_0 )
    {
        if ( isdefined( var_5 ) )
            var_5 scripts\mp\utility\player::_id_11F9E( "60", 1 );
    }
}

drop_max( var_0 )
{
    binoculars_onstatemarkedenter( 2.8, 250 );

    if ( !isdefined( level.checkpoint_next_fx ) )
    {
        if ( level.checkpoint_name.winners.size < 4 )
        {
            if ( isdefined( level.checkpoint_name.rope ) )
                level.checkpoint_name.rope delete();
        }
    }

    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( isdefined( level.checkpoint_next_fx ) )
    {
        foreach ( var_2 in level.checkpoint_name.bot_modify_behavior_from_tweakables )
            var_2 hide();
    }
    else
    {
        foreach ( var_2 in level.checkpoint_name.bot_modify_behavior_from_tweakables )
            var_2 delete();
    }

    var_6 = [ "tag_guy0", "tag_guy2", "tag_guy4", "tag_guy5" ];

    foreach ( var_8 in var_0 )
    {
        if ( !isdefined( var_8 ) )
            continue;

        if ( !isdefined( var_8._id_13018 ) )
            continue;

        var_8.player_rig linkto( level.checkpoint_name.init_relic_shieldsonly, var_6[var_8._id_13018], ( 0, 0, 0 ), ( 0, 0, 0 ) );
        var_8.safechecknum = level.checkpoint_name.init_relic_shieldsonly;
        var_8.safecheckstring = var_6[var_8._id_13018];
    }

    foreach ( var_11 in level.checkpoint_name.tv_station_fastrope_one_infil_start_targetname_array )
    {
        if ( !isdefined( var_11 ) )
            continue;

        if ( isdefined( var_11.player ) )
            continue;

        if ( !isdefined( var_11._id_13018 ) )
            continue;

        var_11 linkto( level.checkpoint_name.init_relic_shieldsonly, var_6[var_11._id_13018], ( 0, 0, 0 ), ( 0, 0, 0 ) );
        var_11.safechecknum = level.checkpoint_name.init_relic_shieldsonly;
        var_11.safecheckstring = var_6[var_11._id_13018];
    }

    drop_saw_think( var_0 );
}

drop_minigun( var_0 )
{
    foreach ( var_2 in level.players )
        var_2 setclienttriggeraudiozone( "br_exfil_heli_int", 0.05 );

    setomnvarforallclients( "ui_br_end_game_splash_type", 13 );
    binoculars_onstatelospendingupdate( 45 );
    binoculars_onstatemarkedenter( 10, 18 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( level.checkpoint_name.winners.size == 1 )
        thread drop_jugg_crate( 1.266 );
}

drop_new_carepackage( var_0 )
{
    setomnvarforallclients( "ui_br_end_game_splash_type", 14 );
    binoculars_onstatelospendingupdate( 50 );
    binoculars_onstatemarkedenter( 11, 30 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( isdefined( level.checkpoint_next_fx ) )
    {
        foreach ( var_2 in var_0 )
            var_2 hide();
    }
    else
        get_wave_targetname( var_0 );

    if ( level.checkpoint_name.winners.size == 2 )
        thread drop_jugg_crate( 2.033 );
}

drop_percent( var_0 )
{
    setomnvarforallclients( "ui_br_end_game_splash_type", 15 );
    binoculars_onstatelospendingupdate( 50 );
    binoculars_onstatemarkedenter( 8, 14.5 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( level.checkpoint_name.winners.size == 3 )
        thread drop_jugg_crate( 2.0 );
}

drop_platform( var_0 )
{
    setomnvarforallclients( "ui_br_end_game_splash_type", 16 );
    binoculars_onstatelospendingupdate( 55 );
    binoculars_onstatemarkedenter( 3, 29 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();

    if ( level.checkpoint_name.winners.size == 4 )
        thread drop_jugg_crate( 2.5 );
}

drop_priorities( var_0 )
{
    foreach ( var_2 in level.players )
        var_2 clearclienttriggeraudiozone( 0.1 );

    binoculars_onstatelospendingupdate( 65 );
    binoculars_onstatemarkedenter( 2.8, 500 );
    level.checkpoint_name.init_relic_shieldsonly thread drawprematchareas();
}

drop_saw_think( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        if ( isdefined( var_2 ) )
            var_2 scripts\mp\utility\player::_id_11F9E( "30", 1 );
    }
}

drop_scavenger_bag( var_0 )
{
    if ( level.checkpoint_name.winners.size == 1 )
        _id_124DB();
}

drop_structs( var_0 )
{
    if ( level.checkpoint_name.winners.size == 2 )
        _id_124DB();
}

drop_support_crate_intro( var_0 )
{
    if ( level.checkpoint_name.winners.size == 3 )
        _id_124DB();
}

drop_support_crates( var_0 )
{
    if ( !isdefined( level.checkpoint_next_fx ) )
        setomnvarforallclients( "ui_world_fade", 1 );
}

_id_124DB()
{
    level.checkpoint_name.debug_show2dvotext notify( "single anim", "end" );
}

drop_intel_on_death_regardless()
{
    if ( !isdefined( level.br_circle ) )
        return;

    if ( !isdefined( level.br_circle.dangercircleent ) )
        return;

    level.br_circle.dangercircleent brcirclemoveto( self.origin[0], self.origin[1], 9000, 0.05 );
}

get_wave_targetname( var_0 )
{
    foreach ( var_2 in var_0 )
    {
        if ( isdefined( var_2.linkedents ) )
            scripts\engine\utility::array_delete( var_2.linkedents );

        var_2 delete();
    }
}

drawprematchareas()
{
    self endon( "death" );
    wait 0.1;
    playfxontag( scripts\engine\utility::getfx( "chopperExfil_rotorwash" ), self, "tag_origin" );
}

drop_type()
{
    level._effect["chopperExfil_rotorwash"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_blima_rotor_infil.vfx" );
    level._effect["chopperExfil_gas"] = loadfx( "vfx/iw8_br/gameplay/circle/vfx_br_circle_gas_exfil_01.vfx" );
    level._effect["player_disconnect"] = loadfx( "vfx/iw8_br/gameplay/vfx_br_disconnect_player.vfx" );
}

binoculars_onstatemarkedenter( var_0, var_1, var_2, var_3, var_4 )
{
    if ( !isdefined( var_2 ) )
        var_2 = 100;

    if ( !isdefined( var_3 ) )
        var_3 = 100;

    foreach ( var_6 in level.players )
    {
        if ( !isdefined( var_6._id_11D08 ) )
        {
            var_6._id_11D08 = 1;
            var_6 enablephysicaldepthoffieldscripting();
        }

        if ( isdefined( var_4 ) )
        {
            var_6 setphysicaldepthoffield( var_0, var_1, var_2, var_3, var_4 );
            continue;
        }

        if ( isdefined( var_3 ) )
        {
            var_6 setphysicaldepthoffield( var_0, var_1, var_2, var_3 );
            continue;
        }

        if ( isdefined( var_2 ) )
        {
            var_6 setphysicaldepthoffield( var_0, var_1, var_2 );
            continue;
        }

        var_6 setphysicaldepthoffield( var_0, var_1 );
    }
}

binoculars_onstatelospendingupdate( var_0 )
{
    foreach ( var_2 in level.players )
        var_2 setclientdvar( "QTSPTNLOL", var_0 );
}

binoculars_onstatelospendingexit()
{
    foreach ( var_1 in level.players )
    {
        if ( isdefined( var_1._id_11D08 ) )
        {
            var_1._id_11D08 = undefined;
            var_1 disablephysicaldepthoffieldscripting();
        }
    }
}

_id_11D02()
{

}

findavailableteam( var_0 )
{
    var_1 = spawnstruct();
    var_1.ents = [];
    var_1.players = [];
    var_1.debug_show2dvotext = undefined;
    var_1.anime = var_0;
    var_1.target_waves = [];
    return var_1;
}

allowednormaldemeanor( var_0, var_1 )
{
    level.scr_anim[var_0.animname][self.anime] = var_1;
    level.scr_animname[var_0.animname][self.anime] = getanimname( var_1 );
    self.ents[self.ents.size] = var_0;
}

allowleaderboardstatsupdates( var_0, var_1 )
{
    self.startfunc = var_1;
    self.teamanchoredwidget = var_0;
}

allowfultondropondeath( var_0, var_1, var_2, var_3 )
{
    if ( !isdefined( var_0 ) )
        return;

    var_4 = undefined;

    if ( !isdefined( var_0.cleanuppropcontrolshudondeath ) )
    {
        var_4 = "player" + var_0 getentitynumber();
        var_0.animname = var_4;
        var_0.cleanuppropcontrolshudondeath = var_4;
    }
    else
        var_4 = var_0.cleanuppropcontrolshudondeath;

    self.players[self.players.size] = var_0;
    var_5 = var_1;

    if ( isdefined( var_2 ) )
    {
        if ( isdefined( var_0.operatorcustomization ) && isdefined( var_0.operatorcustomization.gender ) && var_0.operatorcustomization.gender == "female" )
            var_5 = var_2;
    }

    if ( isdefined( var_3 ) )
    {
        if ( isdefined( var_0.isjuggernaut ) )
            var_5 = var_3;
    }

    level.scr_anim[var_4][self.anime] = var_5;
    level.scr_eventanim[var_4][self.anime] = getanimname( var_5 );
}

allowattackfromexposednonode( var_0 )
{
    self.debug_show2dvotext = 1;
    level.scr_anim["endingCam"][self.anime] = var_0;
}

allowed_objectives( var_0, var_1, var_2 )
{
    self.fx = var_0;
    self.justbecamehvt = var_1;
    self.jump_music = var_2;
}

_id_1224B( var_0, var_1, var_2 )
{
    var_3 = spawn( "script_model", self.origin );
    var_3 setmodel( var_0 );

    if ( !isdefined( var_1 ) )
        var_1 = var_0;

    var_3.animname = var_1;
    var_3 useanimtree( #animtree );

    if ( isdefined( var_2 ) )
    {
        var_3.linkedents = [];

        foreach ( var_5 in var_2 )
        {
            var_6 = spawn( "script_model", self.origin );
            var_6 setmodel( var_5[0] );
            var_6 linkto( var_3, var_5[1], ( 0, 0, 0 ), ( 0, 0, 0 ) );
            var_3.linkedents[var_3.linkedents.size] = var_6;
        }
    }

    return var_3;
}

allowed_gametypes( var_0, var_1, var_2, var_3, var_4 )
{
    var_5 = spawn( "script_model", self.origin );
    var_5 setmodel( var_0 );
    var_5 useanimtree( #animtree );

    if ( isdefined( var_4 ) )
        var_6 = var_4;
    else
        var_6 = var_0;

    var_5.animname = var_6;
    level.scr_anim[var_5.animname]["br_ending"] = var_2;

    if ( isdefined( var_3 ) )
        level.scr_animname[var_5.animname]["br_ending"] = var_3;

    if ( isdefined( var_1 ) )
    {
        var_5.linkedents = [];

        foreach ( var_8 in var_1 )
        {
            var_9 = spawn( "script_model", self.origin );
            var_9 setmodel( var_8[0] );
            var_9 linkto( var_5, var_8[1], ( 0, 0, 0 ), ( 0, 0, 0 ) );
            var_5.linkedents[var_5.linkedents.size] = var_9;
        }
    }

    self.pack.models[self.pack.models.size] = var_5;
    return var_5;
}
