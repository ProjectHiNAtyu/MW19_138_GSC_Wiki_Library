// IW8 GSC SOURCE
// Generated by https://github.com/xensik/gsc-tool

main()
{
    scripts\mp\maps\mp_frontend10\mp_frontend10_precache.gsc::main();
    scripts\mp\maps\mp_frontend10\gen\mp_frontend10_art.gsc::main();
    level.javelin_interact_monitor = 1;
    game["attackers"] = "allies";
    game["defenders"] = "axis";
    scripts\cp_mp\frontendutils::_id_11F15();
    scripts\cp_mp\frontendutils::create_camera_position_list();
    scripts\cp_mp\frontendutils::setup_initial_entities();
    level.transition_interrupted = 0;
    level._id_1205C = getdvarint( "MONKPPPQR" );
    level thread init_fx();
    level.callbackplayerconnect = ::callback_frontendplayerconnect;
}

init_fx()
{
    level._effect["vfx_chimney_smoke"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_chimney_smoke.vfx" );
    level._effect["vfx_sat_crash_fire"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_crash_fire.vfx" );
    level._effect["vfx_falling sparks"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_electrical_transformer_sparks.vfx" );
    level._effect["vfx_ground_smoke_lrg"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_smoke_lrg.vfx" );
    level._effect["vfx_ground_smoke_med"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_smoke_med.vfx" );
    level._effect["vfx_ground_fire"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_ground_fire_med.vfx" );
    level._effect["vfx_ground_fire_sm"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_fire_oil_med_2.vfx" );
    level._effect["vfx_bursting_sparks"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_spark_burst_lg_rnr.vfx" );
    level._effect["vfx_wall_fire_sm"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_fire_wall_sml.vfx" );
    level._effect["vfx_wall_fire_med"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_fire_wall_med.vfx" );
    level._effect["vfx_panel_fire_sm"] = loadfx( "vfx/iw8/level/frontend/s10/vfx_sat_fire_panel_sm.vfx" );
}

callback_frontendplayerconnect()
{
    thread onplayerconnectrunonce();
    thread scripts\cp_mp\frontendutils::frontend_camera_watcher( scripts\cp_mp\frontendutils::camera_section_change );
    thread scripts\cp_mp\frontendutils::epictauntlistener();
    thread scripts\cp_mp\frontendutils::luinotifylistener();
}

onplayerconnectrunonce()
{
    level endon( "game_ended" );
    self endon( "disconnect" );
    level.playerviewowner = self;

    if ( isdefined( level.playerconnectedevents ) )
        return;

    level.playerconnectedevents = 1;
    scripts\engine\utility::init_struct_class();
    scripts\cp_mp\frontendutils::jug_trig_spawn();
    scripts\cp_mp\frontendutils::jug_trigger_spawn();
    thread scripts\cp_mp\frontendutils::_id_11F34();
    scripts\cp_mp\frontendutils::initialize_transition_array();
    self enablephysicaldepthoffieldscripting();
    wait 0.5;
    scripts\mp\maps\mp_frontend10\mp_frontend10_fx.gsc::main();
    scripts\mp\maps\mp_frontend10\mp_frontend10_lighting.gsc::main();
}
